{"version":3,"sources":["utils/Configuration.ts","models/Policies.ts","utils/Context.ts","components/ToggleBaseUrl.tsx","components/Tooltip.tsx","pages/LoginPage.tsx","utils/Helpers.ts","utils/Enums.ts","components/Policy.tsx","components/PolicyState.tsx","logo.svg","components/Policies.tsx","components/Searchbar.tsx","components/ToggleTeam.tsx","components/TopBar.tsx","components/VideoPlayer.tsx","pages/MainPage.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["Configuration","localBaseUrl","serverBaseUrl","Team","PoliciesModel","baseUrl","policies","this","token","a","team","Blue","state","actions","url","axios","get","headers","data","forEach","policy","push","action","TeamContext","React","createContext","setTeam","addListener","name","listener","removeListener","PolicyContext","choosePolicy","AccuracyContext","setAccuracy","accuracy","SearchContext","searchStr","setSearchStr","searchAction","addActionListener","removeActionListener","AuthContext","setToken","BaseUrlContext","setBaseUrl","CookiesContext","cookies","Cookies","TooltipContext","currentTooltip","isTooltipEnabled","setCurrentTooltip","index","resetCurrentTooltip","setTooltipEnabled","isEnabled","ToggleBaseUrl","props","Consumer","className","htmlFor","icons","checked","onChange","event","target","Component","Tooltip","style","arrowStyle","order","text","position","positionOffsetX","positionOffsetY","targetSizeY","hasPrev","hasNext","hasClose","isClose","bottom","left","top","right","hidden","onClick","LoginPageInner","username","password","isRegister","onDemoClick","bind","onRegister","onLogin","setState","baseUrlContext","post","res","status","alert","response","authContext","auth","value","type","LoginPage","useContext","setStateAsync","component","Promise","resolve","Action","Policy","isSelected","isDisabled","isBestProb","isBestQValue","showState","showAction","showProbability","showQValue","showGoldAdv","probability","toFixed","qValue","goldAdv","disabled","PolicyState","bestProb","bestQ","selectedAction","allSchemas","length","isNaN","Number","schema","undefined","reduce","prev","current","marginBottom","autoHide","autoHideTimeout","width","map","deepEqual","contextType","PoliciesInner","currentPolicies","bestPolicies","nextPolicies","pastPolicies","isLoading","correctCount","onTeamChanged","onBaseUrlChanged","resetPolicies","onChoosePolicy","teamContext","retrieveStartPolicies","clearPolicies","accuracyContext","addPolicy","bestSchemas","getSchema","currentSchemas","count","policiesArr","concat","currentState","retrieveBestPolicies","retrieveNextPolicies","nextSchemas","slice","nextState","Provider","src","logo","alt","Policies","Searchbar","placeholder","onSubmit","ToggleTeam","Red","TopBar","onAccuracyChanged","context","VideoPlayer","WIDTH","embedId","isIdValid","getEmbedId","regex","match","substring","height","frameBorder","allow","allowFullScreen","title","MainPage","teamListeners","accuracyListeners","searchListeners","addTeamListener","removeTeamListener","addAccuracyListener","removeAccuracyListener","addSearchActionListener","removeSearchActionListener","all","fn","filter","App","baseUrlListeners","loadTokenFromCookie","checkTokenValid","addBaseUrlListener","removeBaseUrlListener","enabled","set","isTokenValid","withCookies","Boolean","window","location","hostname","ReactDOM","render","StrictMode","CookiesProvider","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.8ae29caa.chunk.js","sourcesContent":["export default class Configuration {\n    public static readonly localBaseUrl: string = \"http://localhost:5000\";\n    public static readonly serverBaseUrl: string = \"https://www.devwulfcodes.com\";\n}","import axios from \"axios\";\nimport { PolicySchema } from \"./Policy\";\n\nexport enum Team {\n    Blue,\n    Red\n}\n\nexport interface IPoliciesModel {\n    retrieveBestPolicies(token: string, team?: Team, state?: number, actions?: string): Promise<void>;\n    retrieveNextPolicies(token: string, team?: Team, state?: number, action?: string): Promise<void>;\n    retrieveStartPolicies(token: string, team?: Team): Promise<void>;\n    addPolicy(policy: PolicySchema): void;\n    clearPolicies(): void;\n    getSchema(): PoliciesSchema;\n}\n\nexport class PoliciesModel implements IPoliciesModel {\n    private baseUrl: string;\n    private policies: PoliciesSchema;\n\n    constructor(baseUrl: string, policies: PoliciesSchema = { policies: [] }) {\n        this.baseUrl = baseUrl;\n        this.policies = policies;\n    }\n\n    async retrieveBestPolicies(token: string, team: Team = Team.Blue, state = 0, actions = \"bKills\"): Promise<void> {\n        // Get policies from backend\n        const policies: PolicySchema[] = [];\n        const url = `${this.baseUrl}/api/policy/best?team=${Team[team]}&state=${state}&actions=${actions}`;\n        const res = await axios.get<PoliciesSchema>(url, {\n            headers: {\n                \"X-Access-Tokens\": token\n            }\n        });\n        res.data.policies.forEach(policy => {\n            policies.push(policy);\n        });\n\n        this.policies.policies = policies;\n    }\n\n    async retrieveNextPolicies(token: string, team: Team = Team.Blue, state = 0, action = \"bKills\"): Promise<void> {\n        // Get policies from backend\n        const policies: PolicySchema[] = [];\n        const url = `${this.baseUrl}/api/policy/next?team=${Team[team]}&state=${state}&action=${action}`;\n        const res = await axios.get<PoliciesSchema>(url, {\n            headers: {\n                \"X-Access-Tokens\": token\n            }\n        });\n        res.data.policies.forEach(policy => {\n            policies.push(policy);\n        });\n\n        this.policies.policies = policies;\n    }\n\n    async retrieveStartPolicies(token: string, team: Team = Team.Blue): Promise<void> {\n        // Get policies from backend\n        const policies: PolicySchema[] = [];\n        const url = `${this.baseUrl}/api/policy/start?team=${Team[team]}`;\n        const res = await axios.get<PoliciesSchema>(url, {\n            headers: {\n                \"X-Access-Tokens\": token\n            }\n        });\n        res.data.policies.forEach(policy => {\n            policies.push(policy);\n        });\n\n        this.policies.policies = policies;\n    }\n\n    addPolicy(policy: PolicySchema): void {\n        // TODO: Validate policy\n        this.policies.policies.push(policy);\n    }\n\n    clearPolicies(): void {\n        this.policies.policies = [];\n    }\n\n    getSchema(): PoliciesSchema {\n        return this.policies;\n    }\n}\n\nexport class DummyPoliciesModel implements IPoliciesModel {\n    private policies: PoliciesSchema;\n\n    constructor(policies: PoliciesSchema = { policies: [] }) {\n        this.policies = policies;\n    }\n\n    async retrieveBestPolicies(token: string, team: Team = Team.Blue, state = 0, actions = \"bKills\"): Promise<void> {\n        const bluePolicySchemas: PolicySchema[] = [\n            {state: state, action: actions, probability: 1, qValue: 0, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rKills\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 2, action: \"bMID_OUTER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 3, action: \"bMID_INNER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 4, action: \"bMID_BASE_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 5, action: \"bMID_INHIBITOR\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 6, action: \"bMID_NEXUS_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 7, action: \"bMID_NEXUS_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 8, action: \"bWon\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n        ];\n\n        const redPolicySchemas: PolicySchema[] = [\n            {state: state, action: actions, probability: 1, qValue: 0, goldAdv: \"Even\"},\n            {state: state + 1, action: \"bKills\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 2, action: \"rMID_OUTER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 3, action: \"rMID_INNER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 4, action: \"rMID_BASE_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 5, action: \"rMID_INHIBITOR\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 6, action: \"rMID_NEXUS_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 7, action: \"rMID_NEXUS_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 8, action: \"rWon\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n        ];\n        \n        this.policies.policies = team === Team.Blue ? bluePolicySchemas : redPolicySchemas;\n    }\n\n    async retrieveNextPolicies(token: string, team: Team = Team.Blue, state = 0, action = \"bKills\"): Promise<void> {\n        const bluePolicySchemas: PolicySchema[] = [\n            {state: state + 1, action: \"bKills\", probability: 1, qValue: 0, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rKills\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"bMID_OUTER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"bMID_INNER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"bMID_BASE_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"bMID_INHIBITOR\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"bMID_NEXUS_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n        ];\n\n        const redPolicySchemas: PolicySchema[] = [\n            {state: state + 1, action: \"bKills\", probability: 1, qValue: 0, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rKills\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rMID_OUTER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rMID_INNER_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rMID_BASE_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rMID_INHIBITOR\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n            {state: state + 1, action: \"rMID_NEXUS_TURRET\", probability: Math.random(), qValue: Math.random() * 100, goldAdv: \"Even\"},\n        ];\n        \n        this.policies.policies = team === Team.Blue ? bluePolicySchemas : redPolicySchemas;\n    }\n\n    async retrieveStartPolicies(token: string, team: Team = Team.Blue): Promise<void> {\n        const policySchemas: PolicySchema[] = [\n            {state: 0, action: \"rKills\", probability: Math.random(), qValue: 0, goldAdv: \"Even\"},\n            {state: 0, action: \"bKills\", probability: Math.random(), qValue: 0, goldAdv: \"Even\"},\n            {state: 0, action: \"rTOP_OUTER_TURRET\", probability: Math.random(), qValue: 0, goldAdv: \"Even\"},\n            {state: 0, action: \"bBOT_OUTER_TURRET\", probability: Math.random(), qValue: 0, goldAdv: \"Even\"},\n            {state: 0, action: \"bDRAGON\", probability: Math.random(), qValue: 0, goldAdv: \"Even\"},\n            {state: 0, action: \"rBOT_OUTER_TURRET\", probability: Math.random(), qValue: 0, goldAdv: \"Even\"},\n            {state: 0, action: \"bTOP_OUTER_TURRET\", probability: Math.random(), qValue: 0, goldAdv: \"Even\"},\n        ];\n        \n        this.policies.policies = policySchemas;\n    }\n\n    addPolicy(policy: PolicySchema): void {\n        // TODO: Validate policy\n        this.policies.policies.push(policy);\n    }\n\n    clearPolicies(): void {\n        this.policies.policies = [];\n    }\n\n    getSchema(): PoliciesSchema {\n        return this.policies;\n    }\n}\n\nexport type PoliciesSchema = {\n    policies: PolicySchema[];\n}","import React from \"react\";\nimport { Cookies } from \"react-cookie/es6\";\nimport { Team } from \"../models/Policies\";\nimport { PolicySchema } from \"../models/Policy\";\n\nexport type TeamContextType = {\n    team: Team;\n    setTeam: (team: Team) => void;\n    addListener: (name: string, listener: (team: Team) => Promise<void>) => void;\n    removeListener: (name: string) => void;\n};\n\nexport const TeamContext = React.createContext<TeamContextType>({\n    team: Team.Blue,\n    setTeam: team => { return; },\n    addListener: (name, listener) => { return; },\n    removeListener: (name) => { return; }\n});\n\nexport type PolicyContextType = {\n    choosePolicy: (team: Team, policy: PolicySchema) => Promise<void>;\n}\n\nexport const PolicyContext = React.createContext<PolicyContextType>({\n    choosePolicy: async (team, policy) => { return; }\n});\n\nexport type AccuracyContextType = {\n    setAccuracy: (accuracy: number) => Promise<void>;\n    addListener: (name: string, listener: (accuracy: number) => Promise<void>) => void;\n    removeListener: (name: string) => void;\n}\n\nexport const AccuracyContext = React.createContext<AccuracyContextType>({\n    setAccuracy: async accuracy => { return; },\n    addListener: (name, listener) => { return; },\n    removeListener: (name) => { return; }\n});\n\nexport type SearchContextType = {\n    searchStr: string;\n    setSearchStr: (searchStr: string) => void;\n    searchAction: () => Promise<void>;\n    addActionListener: (name: string, listener: (searchStr: string) => Promise<void>) => void;\n    removeActionListener: (name: string) => void;\n}\n\nexport const SearchContext = React.createContext<SearchContextType>({\n    searchStr: \"\",\n    setSearchStr: searchStr => { return; },\n    searchAction: async () => { return; },\n    addActionListener: (name, listener) => { return; },\n    removeActionListener: (name) => { return; }\n});\n\nexport type AuthContextType = {\n    token: string;\n    setToken: (token: string) => void;\n}\n\nexport const AuthContext = React.createContext<AuthContextType>({\n    token: \"\",\n    setToken: token => { return; }\n});\n\nexport type BaseUrlContextType = {\n    baseUrl: string;\n    setBaseUrl: (baseUrl: string) => void;\n    addListener: (name: string, listener: (baseUrl: string) => Promise<void>) => void;\n    removeListener: (name: string) => void;\n}\n\nexport const BaseUrlContext = React.createContext<BaseUrlContextType>({\n    baseUrl: \"\",\n    setBaseUrl: baseUrl => { return; },\n    addListener: (name, listener) => { return; },\n    removeListener: (name) => { return; }\n});\n\nexport type CookiesContextType = {\n    cookies: Cookies;\n}\n\nexport const CookiesContext = React.createContext<CookiesContextType>({\n    cookies: new Cookies()\n});\n\nexport type TooltipContextType = {\n    currentTooltip: number;\n    isTooltipEnabled: boolean;\n    setCurrentTooltip: (index: number) => void;\n    resetCurrentTooltip: () => void;\n    setTooltipEnabled: (isEnabled: boolean) => void;\n}\n\nexport const TooltipContext = React.createContext<TooltipContextType>({\n    currentTooltip: 0,\n    isTooltipEnabled: true,\n    setCurrentTooltip: index => { return; },\n    resetCurrentTooltip: () => { return; },\n    setTooltipEnabled: isEnabled => { return; }\n});","import React from \"react\";\nimport Toggle from \"react-toggle\";\nimport { Team } from \"../models/Policies\";\nimport Configuration from \"../utils/Configuration\";\nimport { BaseUrlContext, TeamContext } from \"../utils/Context\";\n\ntype ToggleBaseUrlProps = {\n\n}\n\ntype ToggleBaseUrlState = {\n    \n}\n\nexport default class ToggleBaseUrl extends React.Component<ToggleBaseUrlProps, ToggleBaseUrlState> {\n    constructor(props: ToggleBaseUrlProps) {\n        super(props);\n\n        this.state = {\n            \n        };\n    }\n\n    render(): JSX.Element {\n        return (\n            <BaseUrlContext.Consumer>\n                {({baseUrl, setBaseUrl}) => (\n                    <div className=\"flex items-center\">\n                        <label htmlFor=\"\" className=\"flex items-center\">\n                            <span className=\"text-sm font-bold mr-2 text-gray-900\">Local</span>\n                            <Toggle className=\"mr-2\"\n                                icons={false}\n                                checked={baseUrl === Configuration.serverBaseUrl ? true : false}\n                                onChange={event => {\n                                    const url = event.target.checked ? \n                                        Configuration.serverBaseUrl : Configuration.localBaseUrl;\n                                    setBaseUrl(url);\n                                }} />\n                            <span className=\"text-sm font-bold text-gray-900\">Server</span>\n                        </label>\n                    </div>\n                )}\n            </BaseUrlContext.Consumer>\n        );\n    }\n}","import React from \"react\";\nimport { TooltipContext } from \"../utils/Context\";\n\ntype TooltipProps = {\n    order: number;\n    text: string;\n    position: \"left\" | \"right\" | \"top\" | \"bottom\";\n    positionOffsetX?: number;\n    positionOffsetY?: number;\n    targetSizeY?: number;\n    hasPrev?: boolean;\n    hasNext?: boolean;\n    hasClose?: boolean;\n    isClose?: boolean;\n}\n\ntype TooltipState = {\n\n}\n\nexport default class Tooltip extends React.Component<TooltipProps, TooltipState> {\n    constructor(props: TooltipProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        const { order, text, position, positionOffsetX = 0, positionOffsetY = 0, targetSizeY = 0, hasPrev = false, hasNext = false, hasClose = false, isClose = false } = this.props;\n        let style: React.CSSProperties;\n        let arrowStyle: React.CSSProperties;\n        switch(position) {\n        case \"top\":\n            arrowStyle = {\n                bottom: `calc(100% + 0.75rem + ${positionOffsetY}rem)`\n            };\n            style = {\n                left: `${positionOffsetX !== 0 ? positionOffsetX + \"rem\" : \"\"}`,\n                bottom: arrowStyle.bottom\n            };\n            break;\n        case \"bottom\":\n            arrowStyle = {\n                top: `calc(100% + 0.75rem + ${positionOffsetY}rem)`\n            };\n            style = {\n                left: `${positionOffsetX !== 0 ? positionOffsetX + \"rem\" : \"\"}`,\n                top: arrowStyle.top\n            };\n            break;\n        case \"left\":\n            arrowStyle = {\n                top: `${targetSizeY / 2}px`,\n                right: `calc(100% + 0.75rem + ${positionOffsetX}rem)`\n            };\n            style = {\n                top: `${positionOffsetY !== 0 ? positionOffsetY + \"rem\" : \"\"}`,\n                right: arrowStyle.right\n            };\n            break;\n        default:\n            arrowStyle = {\n                top: `${targetSizeY / 2}px`,\n                left: `calc(100% + 0.75rem + ${positionOffsetX}rem)`\n            };\n            style = {\n                top: `${positionOffsetY !== 0 ? positionOffsetY + \"rem\" : \"\"}`,\n                left: arrowStyle.left\n            };\n            break;\n        }\n        return (\n            <TooltipContext.Consumer>\n                {({ currentTooltip, isTooltipEnabled, setCurrentTooltip, setTooltipEnabled }) => { \n                    if (!isTooltipEnabled || currentTooltip !== order)\n                        return null;\n                    else\n                        return (\n                            <div className=\"relative w-full flex items-center justify-center z-50\"\n                                style={{bottom: \"100%\"}}>\n                                <div className=\"absolute flex flex-col p-2 text-sm rounded-default w-64 bg-gray-800 text-gray-100\"\n                                    style={{...style}}>\n                                    <span className=\"mb-2\">\n                                        {text}\n                                    </span>\n                                    <div className=\"flex justify-between\">\n                                        <div className=\"\">\n                                            <button className=\"px-2 py-1 rounded-default bg-gray-600\" \n                                                hidden={!hasPrev || order <= 0}\n                                                onClick={() => setCurrentTooltip(order - 1)}>\n                                                Prev\n                                            </button>\n                                        </div>\n                                        <div className=\"\">\n                                            <button className=\"px-2 py-1 mr-1 rounded-default bg-blue-500\" \n                                                hidden={!hasNext}\n                                                onClick={() => setCurrentTooltip(order + 1)}>\n                                                Next\n                                            </button>\n                                            <button className=\"px-2 py-1 rounded-default bg-red-500\" \n                                                hidden={!hasClose}\n                                                onClick={() => setTooltipEnabled(false)}>\n                                                {isClose ? \"Close\" : \"Skip\"}\n                                            </button>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className={`tooltip-${position} absolute flex flex-col w-full h-full`}\n                                    style={{...arrowStyle}}></div>\n                            </div>\n                        );\n                }}\n            </TooltipContext.Consumer>\n        );\n    }\n}","import axios from \"axios\";\nimport React, { useContext } from \"react\";\nimport ToggleBaseUrl from \"../components/ToggleBaseUrl\";\nimport Tooltip from \"../components/Tooltip\";\nimport { AuthContext, AuthContextType, BaseUrlContext, BaseUrlContextType, TooltipContext, TooltipContextType } from \"../utils/Context\";\n\ntype LoginPageProps = {\n    authContext: AuthContextType;\n    baseUrlContext: BaseUrlContextType;\n}\n\ntype LoginPageState = {\n    username: string;\n    password: string;\n    isRegister: boolean;\n}\n\nexport class LoginPageInner extends React.Component<LoginPageProps, LoginPageState> {\n    constructor(props: LoginPageProps) {\n        super(props);\n\n        this.state = {\n            username: \"\",\n            password: \"\",\n            isRegister: false\n        };\n\n        this.onDemoClick = this.onDemoClick.bind(this);\n        this.onRegister = this.onRegister.bind(this);\n        this.onLogin = this.onLogin.bind(this);\n    }\n\n    onDemoClick(): void {\n        const demoUsername = \"test\";\n        const demoPassword = \"test123\";\n        this.setState({username: demoUsername, password: demoPassword});\n    }\n\n    async onRegister(): Promise<void> {\n        const { baseUrlContext } = this.props;\n        const { username, password } = this.state;\n\n        try {\n            const res = await axios.post(`${baseUrlContext.baseUrl}/auth/register`, {\n                username: username,\n                password: password\n            });\n    \n            if (res.status === 200)\n                alert(res.data[\"message\"]);\n        } catch(err) {\n            alert(`${err.response.status}: ${err.response.data}`);\n        }\n    }\n\n    async onLogin(): Promise<void> {\n        const { authContext, baseUrlContext } = this.props;\n        const { username, password } = this.state;\n        \n        try {\n            const res = await axios.post(`${baseUrlContext.baseUrl}/auth/login`, {}, {\n                auth: {\n                    username: username,\n                    password: password\n                }\n            });\n            if (res.status === 200)\n                authContext.setToken(res.data[\"token\"]);\n        } catch (err) {\n            alert(`${err.response.status}: ${err.response.data}`);\n        }\n    }\n\n    render(): JSX.Element {\n        const { username, password, isRegister } = this.state;\n\n        return (\n            <div className=\"flex justify-center items-center w-screen h-screen\">\n                {(!isRegister && \n                    <div className=\"flex flex-col p-4 rounded-lg bg-indigo-200 text-indigo-900\">\n                        <div className=\"flex flex-row justify-between items-center mb-4\">\n                            <span className=\"text-2xl font-bold\">Login</span>\n                            <div className=\"\">\n                                <ToggleBaseUrl />\n                                <Tooltip order={0}\n                                    text=\"This is for choosing whether to use your own local backend server or a premade server for login.\" \n                                    position=\"top\"\n                                    positionOffsetY={1.5}\n                                    hasNext\n                                    hasClose />\n                            </div>\n                        </div>\n                        <div className=\"flex flex-col mb-2\">\n                            <label className=\"text-xs mb-1\" htmlFor=\"\">Username</label>\n                            <input className=\"px-2 py-1 rounded-default text-sm\" \n                                value={username}\n                                onChange={event => this.setState({username: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-col mb-4\">\n                            <label className=\"text-xs mb-1\" htmlFor=\"\">Password</label>\n                            <input className=\"px-2 py-1 rounded-default text-sm\" \n                                value={password} \n                                type=\"password\"\n                                onChange={event => this.setState({password: event.target.value})} />\n                        </div>\n\n                        <div className=\"flex justify-between\">\n                            <button className=\"px-4 py-1 mr-2 rounded-default text-xs bg-indigo-400 text-indigo-100\"\n                                onClick={() => this.setState({isRegister: true})}>Register</button>\n                            <button className=\"px-4 py-1 mr-2 rounded-default text-xs bg-indigo-700 text-indigo-200\"\n                                onClick={this.onLogin}>Login</button>\n                            <div className=\"\">\n                                <button className=\"px-4 py-1 rounded-default text-xs bg-indigo-400 text-indigo-100\"\n                                    onClick={this.onDemoClick}>\n                                    Demo\n                                </button>\n                                <Tooltip order={1}\n                                    text=\"This button fills in the login details for demo. Try it out!\"\n                                    position=\"right\"\n                                    positionOffsetY={-1.5}\n                                    targetSizeY={26}\n                                    hasClose\n                                    hasPrev\n                                    hasNext />\n                            </div>\n                        </div>\n                    </div>\n                ) || \n                (isRegister && \n                    <div className=\"flex flex-col p-4 rounded-lg bg-indigo-200 text-indigo-900\">\n                        <div className=\"flex flex-row justify-between items-center mb-4\">\n                            <span className=\"text-2xl font-bold\">Register</span>\n                            <ToggleBaseUrl />\n                        </div>\n                        <div className=\"flex flex-col mb-2\">\n                            <label className=\"text-xs mb-1\" htmlFor=\"\">Username</label>\n                            <input className=\"px-2 py-1 rounded-default text-sm\" \n                                value={username}\n                                onChange={event => this.setState({username: event.target.value})} />\n                        </div>\n                        <div className=\"flex flex-col mb-4\">\n                            <label className=\"text-xs mb-1\" htmlFor=\"\">Password</label>\n                            <input className=\"px-2 py-1 rounded-default text-sm\" \n                                value={password} \n                                type=\"password\"\n                                onChange={event => this.setState({password: event.target.value})} />\n                        </div>\n\n                        <div className=\"flex justify-between\">\n                            <button className=\"px-4 py-1 mr-2 rounded-default text-xs bg-indigo-700 text-indigo-200\"\n                                onClick={this.onRegister}>Register</button>\n                            <button className=\"px-4 py-1 mr-2 rounded-default text-xs bg-indigo-400 text-indigo-100\"\n                                onClick={() => this.setState({isRegister: false})}>\n                                    Login\n                            </button>\n                            <button className=\"px-4 py-1 rounded-default text-xs bg-indigo-400 text-indigo-100\"\n                                onClick={this.onDemoClick}>\n                                    Demo\n                            </button>\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default function LoginPage(): JSX.Element {\n    const auth = useContext(AuthContext);\n    const baseUrl = useContext(BaseUrlContext);\n\n    return (\n        <LoginPageInner authContext={auth} baseUrlContext={baseUrl} />\n    );\n}","import React from \"react\";\n\nexport async function setStateAsync<P, S, K extends keyof S>(\n    state:\n        ((prevState: Readonly<S>, props: Readonly<P>) => (Pick<S, K> | S | null)) |\n        Pick<S, K> |\n        S |\n        null,\n    component: React.Component<P, S>\n): Promise<unknown> {\n    return new Promise(resolve => component.setState(state, () => resolve(null)));\n}","export enum Action {\n    bKills,\n    bTOP_OUTER_TURRET,\n    bTOP_INNER_TURRET,\n    bTOP_BASE_TURRET,\n    bTOP_INHIBITOR,\n    bMID_OUTER_TURRET,\n    bMID_INNER_TURRET,\n    bMID_BASE_TURRET,\n    bMID_INHIBITOR,\n    bMID_NEXUS_TURRET,\n    bBOT_OUTER_TURRET,\n    bBOT_INNER_TURRET,\n    bBOT_BASE_TURRET,\n    bBOT_INHIBITOR,\n    bDRAGON,\n    bELDER_DRAGON,\n    bRIFT_HERALD,\n    bBARON_NASHOR,\n    bWon,\n    rKills,\n    rTOP_OUTER_TURRET,\n    rTOP_INNER_TURRET,\n    rTOP_BASE_TURRET,\n    rTOP_INHIBITOR,\n    rMID_OUTER_TURRET,\n    rMID_INNER_TURRET,\n    rMID_BASE_TURRET,\n    rMID_INHIBITOR,\n    rMID_NEXUS_TURRET,\n    rBOT_OUTER_TURRET,\n    rBOT_INNER_TURRET,\n    rBOT_BASE_TURRET,\n    rBOT_INHIBITOR,\n    rDRAGON,\n    rELDER_DRAGON,\n    rRIFT_HERALD,\n    rBARON_NASHOR,\n    rWon\n}","import React from \"react\";\nimport { Team } from \"../models/Policies\";\nimport { PolicySchema } from \"../models/Policy\";\nimport { PolicyContext, TeamContext } from \"../utils/Context\";\n\ntype PolicyProps = {\n    policy: PolicySchema;\n    isSelected?: boolean;\n    isDisabled?: boolean;\n    isBestProb?: boolean;\n    isBestQValue?: boolean;\n    showState?: boolean;\n    showAction?: boolean;\n    showProbability?: boolean;\n    showQValue?: boolean;\n    showGoldAdv?: boolean;\n}\n\ntype PolicyState = {\n\n}\n\nexport default class Policy extends React.Component<PolicyProps, PolicyState> {\n    constructor(props: PolicyProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        const { policy, isSelected = false, isDisabled = false, isBestProb = false, isBestQValue = false, showState = false, showAction = false, showProbability = false, showQValue = false, showGoldAdv = false } = this.props;\n        const probability = policy.probability < 0 ? \"-\" : `${(policy.probability * 100).toFixed(2)}%`;\n        const qValue = policy.qValue < 0 ? \"-\" : `${policy.qValue.toFixed(2)}`;\n        const goldAdv = policy.goldAdv === \"\" ? \"-\" : policy.goldAdv;\n        return (\n            <TeamContext.Consumer>\n                {({team}) => (\n                    <PolicyContext.Consumer>\n                        {({choosePolicy}) => (\n                            <button className={`flex flex-col items-center w-full ${isSelected ? (team === Team.Blue ? \"bg-blue-600 text-blue-200\" : \"bg-red-600 text-red-200\") : \"\"} ${isDisabled ? \"opacity-50 cursor-default\" : \"\"}`}\n                                onClick={() => choosePolicy(team, policy)}\n                                disabled={isDisabled}>\n                                <span className={`${showState ? \"\" : \"hidden\"}`}>{policy.state}</span>\n                                <span className={`${showAction ? \"text-sm\" : \"hidden\"}`}>{policy.action}</span>\n                                <div className=\"flex flex-row\">\n                                    <div className={`${showProbability ? \"flex flex-col mr-4\" : \"hidden\"} ${isBestProb ? \"text-green-300 font-bold\" : \"\"}`}>\n                                        <span className=\"text-xs\">Probability</span>\n                                        <span className=\"text-sm\">{probability}</span>\n                                    </div>\n                                    <div className={`${showQValue ? \"flex flex-col mr-4\" : \"hidden\"} ${isBestQValue ? \"text-green-300 font-bold\" : \"\"}`}>\n                                        <span className=\"text-xs\">Q-Value</span>\n                                        <span className=\"text-sm\">{qValue}</span>\n                                    </div>\n                                    <div className={`${showGoldAdv ? \"flex flex-col\" : \"hidden\"}`}>\n                                        <span className=\"text-xs\">Gold Adv</span>\n                                        <span className=\"text-sm\">{goldAdv}</span>\n                                    </div>\n                                </div>\n                            </button>\n                        )}\n                    </PolicyContext.Consumer>\n                )}\n            </TeamContext.Consumer>\n        );\n    }\n}","import deepEqual from \"deep-equal\";\nimport React from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { Team } from \"../models/Policies\";\nimport { PolicySchema } from \"../models/Policy\";\nimport { PolicyContext, TeamContext } from \"../utils/Context\";\nimport { Action } from \"../utils/Enums\";\nimport Policy from \"./Policy\";\nimport { Scrollbar } from \"./Scrollbar\";\n\ntype PolicyStateProps = {\n    state: number;\n    selectedAction?: PolicySchema;\n    actions?: PolicySchema[];\n    isDisabled?: boolean;\n}\n\ntype PolicyStateState = {\n    \n}\n\nexport default class PolicyState extends React.Component<PolicyStateProps, PolicyStateState> {\n    static contextType = PolicyContext;\n    constructor(props: PolicyStateProps) {\n        super(props);\n\n        this.state = {\n            \n        };\n    }\n\n    render(): JSX.Element {\n        const { state, selectedAction, actions = [], isDisabled = false } = this.props;\n        const allSchemas: PolicySchema[] = actions;\n        let bestProb: PolicySchema | undefined;\n        let bestQ: PolicySchema | undefined;\n        if (actions.length <= 0) {\n            for (const value in Action) {\n                if (!isNaN(Number(value)))\n                    continue;\n                \n                const schema: PolicySchema = \n                    selectedAction !== undefined && selectedAction.action === value ? \n                        selectedAction : \n                        { state: state, action: value, probability: -1, qValue: -1, goldAdv: \"\" };\n                allSchemas.push(schema);\n            }\n        } else {\n            bestProb = actions.reduce((prev, current) => (prev.probability > current.probability) ? prev : current);\n            bestQ = actions.reduce((prev, current) => (prev.qValue > current.qValue) ? prev : current);\n        }\n\n        return (\n            <TeamContext.Consumer>\n                {({team}) => (\n                    <div className=\"flex flex-col w-64 h-full p-4\">\n                        <div className={`flex flex-col items-center justify-center mb-2 h-12 ${team === Team.Blue ? \"text-blue-900\" : \"text-red-900\"}`}>\n                            <span className=\"text-xs\" style={{marginBottom: \"-0.5rem\"}}>Action</span>\n                            <span className=\"text-2xl font-medium\">{state + 1}</span>\n                        </div>\n                        <div className={`flex flex-col h-full py-4 border-2 shadow-lg rounded-lg bg-gray-100 ${team === Team.Blue ? \"border-blue-800\" : \"border-red-800\"}`}>\n                            <Scrollbars autoHide autoHideTimeout={250} style={{width: \"100%\"}}>\n                                {allSchemas.map((value, index) => (\n                                    <div key={index} className={`${index === allSchemas.length - 1 ? \"\" : \"mb-2\"}`}>\n                                        <Policy policy={value} \n                                            isSelected={selectedAction !== undefined && (value.action === selectedAction.action || (bestProb !== undefined && deepEqual(bestProb, value)))} \n                                            isDisabled={isDisabled}\n                                            isBestProb={bestProb !== undefined && deepEqual(bestProb, value)}\n                                            isBestQValue={bestQ !== undefined && deepEqual(bestQ, value)}\n                                            showAction \n                                            showProbability \n                                            showQValue \n                                            showGoldAdv />\n                                    </div>\n                                ))}\n                            </Scrollbars>\n                        </div>\n                    </div>\n                )}\n            </TeamContext.Consumer>\n        );\n    }\n}","export default __webpack_public_path__ + \"static/media/logo.103b5fa1.svg\";","import React, { useContext } from \"react\";\nimport Scrollbars from \"react-custom-scrollbars-2\";\nimport { DummyPoliciesModel, IPoliciesModel, PoliciesModel, PoliciesSchema, Team } from \"../models/Policies\";\nimport { PolicyModel, PolicySchema } from \"../models/Policy\";\nimport { AccuracyContext, AccuracyContextType, AuthContext, AuthContextType, BaseUrlContext, BaseUrlContextType, PolicyContext, TeamContext, TeamContextType } from \"../utils/Context\";\nimport { Action } from \"../utils/Enums\";\nimport { setStateAsync } from \"../utils/Helpers\";\nimport Policy from \"./Policy\";\nimport PolicyState from \"./PolicyState\";\nimport logo from \"../logo.svg\";\n\ntype PoliciesProps = {\n    teamContext: TeamContextType;\n    accuracyContext: AccuracyContextType;\n    authContext: AuthContextType;\n    baseUrlContext: BaseUrlContextType;\n}\n\ntype PoliciesState = {\n    currentPolicies: IPoliciesModel;\n    bestPolicies: IPoliciesModel;\n    nextPolicies: IPoliciesModel;\n    pastPolicies: PoliciesSchema[];\n    isLoading: boolean;\n    correctCount: number;\n}\n\nclass PoliciesInner extends React.Component<PoliciesProps, PoliciesState> {\n    constructor(props: PoliciesProps) {\n        super(props);\n\n        const baseUrl = props.baseUrlContext.baseUrl;\n        this.state = {\n            currentPolicies: new PoliciesModel(baseUrl),\n            bestPolicies: new PoliciesModel(baseUrl),\n            nextPolicies: new PoliciesModel(baseUrl),\n            pastPolicies: [],\n            isLoading: true,\n            correctCount: 0\n        };\n\n        this.onTeamChanged = this.onTeamChanged.bind(this);\n        this.onBaseUrlChanged = this.onBaseUrlChanged.bind(this);\n        this.resetPolicies = this.resetPolicies.bind(this);\n        this.onChoosePolicy = this.onChoosePolicy.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        const { teamContext, baseUrlContext } = this.props;\n\n        teamContext.addListener(\"policies\", this.onTeamChanged);\n        baseUrlContext.addListener(\"policies\", this.onBaseUrlChanged);\n\n        await this.state.nextPolicies.retrieveStartPolicies(this.props.authContext.token);\n        await setStateAsync({isLoading: false}, this);\n    }\n\n    async onTeamChanged(team: Team): Promise<void> {\n        await this.resetPolicies();\n    }\n\n    async onBaseUrlChanged(baseUrl: string): Promise<void> {\n        await this.resetPolicies();\n    }\n\n    async resetPolicies(): Promise<void> {\n        await setStateAsync({isLoading: true, pastPolicies: []}, this);\n        await this.state.currentPolicies.clearPolicies();\n        await this.state.bestPolicies.clearPolicies();\n        await this.state.nextPolicies.retrieveStartPolicies(this.props.authContext.token);\n        await this.props.accuracyContext.setAccuracy(0);\n        await setStateAsync({isLoading: false}, this);\n    }\n\n    async onChoosePolicy(team: Team, policy: PolicySchema): Promise<void> {\n        const { accuracyContext, authContext } = this.props;\n        const { pastPolicies, currentPolicies, bestPolicies, nextPolicies, correctCount } = this.state;\n\n        currentPolicies.addPolicy(policy);\n\n        const bestSchemas = bestPolicies.getSchema().policies;\n        const currentSchemas = currentPolicies.getSchema().policies;\n\n        // For counting how many times the best policy got a right prediction\n        let count = correctCount;\n        if (bestSchemas.length > 1 && policy.action === bestSchemas[1].action)\n            count++;\n\n        if (currentSchemas.length > 1)\n            accuracyContext.setAccuracy(count / (currentSchemas.length - 1));\n\n        const policiesArr = pastPolicies.concat({policies: nextPolicies.getSchema().policies});\n        await setStateAsync({isLoading: true, pastPolicies: policiesArr, correctCount: count}, this);\n\n        const currentState = currentSchemas.length - 1;\n        if (currentState >= 0) {\n            await bestPolicies.retrieveBestPolicies(authContext.token, team, currentState, policy.action);\n            await nextPolicies.retrieveNextPolicies(authContext.token, team, currentState, policy.action);\n        }\n\n        await setStateAsync({isLoading: false}, this);\n    }\n\n    componentWillUnmount(): void {\n        const { teamContext, baseUrlContext } = this.props;\n        teamContext.removeListener(\"policies\");\n        baseUrlContext.removeListener(\"policies\");\n    }\n\n    render(): JSX.Element {\n        const { pastPolicies, currentPolicies, bestPolicies, nextPolicies, isLoading } = this.state;\n        const currentSchemas = currentPolicies.getSchema().policies;\n        const bestSchemas = bestPolicies.getSchema().policies;\n        const nextSchemas = nextPolicies.getSchema().policies;\n        const allSchemas = [];\n        allSchemas.push(...currentSchemas);\n        allSchemas.push(...bestSchemas.slice(1));\n\n        let nextState = 0;\n        if (nextSchemas.length > 0)\n            nextState = nextSchemas[0].state;\n        \n        return (\n            <PolicyContext.Provider value={{choosePolicy: this.onChoosePolicy}}>\n                <div className=\"w-full h-full relative\">\n                    {(isLoading && \n                        <div className=\"absolute top-0 right-0 bottom-0 left-0 flex flex-col items-center justify-center backdrop-filter backdrop-blur-sm z-10\">\n                            <div className=\"p-4 bg-gray-800 rounded-md\">\n                                <img src={logo} alt=\"logo\" className=\"App-logo\" />\n                                <span className=\"text-2xl text-blue-200\">Loading</span>\n                            </div>\n                        </div>\n                    )}\n                    <Scrollbars autoHide autoHideTimeout={250}>\n                        <div className=\"flex flex-row h-full\">\n                            {(currentSchemas.length <= 0 &&\n                                <PolicyState state={0} actions={nextSchemas} />\n                            ) ||\n                            (currentSchemas.length > 0 && \n                                <>\n                                    {allSchemas.map((policy, index) => (\n                                        <div key={index} className=\"\">\n                                            {(policy.state === nextState && \n                                                <PolicyState state={policy.state} selectedAction={policy} actions={nextSchemas} />\n                                            ) ||\n                                            (policy.state !== nextState && index < pastPolicies.length &&\n                                                <PolicyState state={policy.state} selectedAction={policy} actions={pastPolicies[index].policies} isDisabled />\n                                            ) ||\n                                            (policy.state !== nextState && index >= pastPolicies.length &&\n                                                <PolicyState state={policy.state} selectedAction={policy} isDisabled />\n                                            )}\n                                        </div>\n                                    ))}\n                                </>\n                            )}\n                        </div>\n                    </Scrollbars>\n                </div>\n            </PolicyContext.Provider>  \n        );\n    }\n}\n\nexport default function Policies(): JSX.Element {\n    const team = useContext(TeamContext);\n    const accuracy = useContext(AccuracyContext);\n    const auth = useContext(AuthContext);\n    const baseUrl = useContext(BaseUrlContext);\n\n    return (\n        <PoliciesInner teamContext={team} accuracyContext={accuracy} authContext={auth} baseUrlContext={baseUrl} />\n    );\n}","import React from \"react\";\nimport { Team } from \"../models/Policies\";\nimport { SearchContext, TeamContext } from \"../utils/Context\";\n\ntype SearchbarProps = {\n\n}\n\ntype SearchbarState = {\n\n}\n\nexport default class Searchbar extends React.Component<SearchbarProps, SearchbarState> {\n    constructor(props: SearchbarProps) {\n        super(props);\n\n        this.state = {\n\n        };\n    }\n\n    render(): JSX.Element {\n        const demoLink = \"https://youtu.be/kTewx3x6Dps\";\n\n        return (\n            <TeamContext.Consumer>\n                {({ team }) => (\n                    <SearchContext.Consumer>\n                        {({ searchStr, setSearchStr, searchAction }) => (\n                            <div className=\"flex w-full px-4 py-2 max-w-3xl h-12\">\n                                <input \n                                    className=\"w-full mr-2 rounded-default shadow-inner px-2 text-sm\" \n                                    placeholder=\"Type in Youtube link here...\"\n                                    value={searchStr}\n                                    onChange={event => setSearchStr(event.target.value)}\n                                    onSubmit={() => searchAction()} />\n                                <button className={`px-4 mr-2 rounded-default text-sm ${team === Team.Blue ? \"bg-blue-500 text-blue-200\" : \"bg-red-500 bg- text-red-200\"}`}\n                                    onClick={() => searchAction()}>\n                                    Search\n                                </button>\n                                <button className={`px-4 rounded-default text-sm ${team === Team.Blue ? \"bg-blue-500 text-blue-200\" : \"bg-red-500 bg- text-red-200\"}`}\n                                    onClick={() => setSearchStr(demoLink)}>\n                                    Demo\n                                </button>\n                            </div>\n                        )}\n                    </SearchContext.Consumer>\n                )}\n            </TeamContext.Consumer>\n        );\n    }\n}","import React from \"react\";\nimport Toggle from \"react-toggle\";\nimport { Team } from \"../models/Policies\";\nimport { TeamContext } from \"../utils/Context\";\n\ntype ToggleTeamProps = {\n\n}\n\ntype ToggleTeamState = {\n    \n}\n\nexport default class ToggleTeam extends React.Component<ToggleTeamProps, ToggleTeamState> {\n    constructor(props: ToggleTeamProps) {\n        super(props);\n\n        this.state = {\n            \n        };\n    }\n\n    render(): JSX.Element {\n        return (\n            <TeamContext.Consumer>\n                {({team, setTeam}) => (\n                    <div className=\"flex items-center\">\n                        <label htmlFor=\"\" className=\"flex items-center\">\n                            <span className={`text-lg font-bold mr-2 ${team === Team.Blue ? \"text-blue-900\" : \"text-red-900\"}`}>Team</span>\n                            <Toggle \n                                icons={false}\n                                onChange={event => {\n                                    const team = event.target.checked ? \n                                        Team.Red : Team.Blue;\n                                    setTeam(team);\n                                }} />\n                        </label>\n                    </div>\n                )}\n            </TeamContext.Consumer>\n        );\n    }\n}","import React from \"react\";\nimport { AccuracyContext } from \"../utils/Context\";\nimport Searchbar from \"./Searchbar\";\nimport ToggleBaseUrl from \"./ToggleBaseUrl\";\nimport ToggleTeam from \"./ToggleTeam\";\nimport Tooltip from \"./Tooltip\";\n\ntype TopBarProps = {\n\n}\n\ntype TopBarState = {\n    accuracy: number;\n}\n\nexport default class TopBar extends React.Component<TopBarProps, TopBarState> {\n    static contextType = AccuracyContext;\n    constructor(props: TopBarProps) {\n        super(props);\n\n        this.state = {\n            accuracy: 0\n        };\n\n        this.onAccuracyChanged = this.onAccuracyChanged.bind(this);\n    }\n\n    componentDidMount(): void {\n        this.context.addListener(\"topBar\", this.onAccuracyChanged);\n    }\n\n    async onAccuracyChanged(accuracy: number): Promise<void> {\n        this.setState({accuracy: accuracy});\n    }\n\n    componentWillUnmount(): void {\n        this.context.removeListener(\"topBar\");\n    }\n\n    render(): JSX.Element {\n        const { accuracy } = this.state;\n        return (\n            <div className=\"flex justify-between w-screen h-20 p-4\">\n                <div className=\"flex flex-row\">\n                    <div className=\"flex flex-col justify-center mr-4\">\n                        <ToggleTeam />\n                        <Tooltip order={0}\n                            text=\"This is for toggling the team to track, between either Blue or Red team.\"\n                            position=\"bottom\"\n                            positionOffsetX={1}\n                            positionOffsetY={3}\n                            hasPrev\n                            hasNext\n                            hasClose />\n                    </div>\n                    <div className=\"flex flex-col justify-center mr-4\">\n                        <ToggleBaseUrl />\n                        <Tooltip order={1}\n                            text=\"This is for choosing whether to use your own local backend server or a premade server for the action queries.\"\n                            position=\"bottom\"\n                            positionOffsetY={3}\n                            hasPrev\n                            hasNext\n                            hasClose />\n                    </div>\n                </div>\n                <div className=\"w-full flex flex-col max-w-3xl items-center\">\n                    <Searchbar />\n                    <Tooltip order={2}\n                        text=\"Type in the Youtube link to the match replay here. The following formats are accepted: https://youtu.be/kTewx3x6Dps or https://www.youtube.com/watch?v=kTewx3x6Dps\"\n                        position=\"bottom\"\n                        positionOffsetY={3}\n                        hasPrev\n                        hasClose />\n                </div>\n\n                <div className=\"flex flex-col items-end justify-center w-40\">\n                    {/*\n                        <>\n                            <span className=\"text-sm\">Model Accuracy:</span>\n                            <span className=\"text-sm font-bold\">{(accuracy * 100).toFixed(2)}%</span>\n                        </>\n                    /**/}\n                </div>\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport { SearchContext } from \"../utils/Context\";\n\ntype VideoPlayerProps = {\n\n}\n\ntype VideoPlayerState = {\n    embedId: string;\n    isIdValid: boolean;\n}\n\nexport default class VideoPlayer extends React.Component<VideoPlayerProps, VideoPlayerState> {\n    static contextType = SearchContext;\n    private readonly WIDTH = 840;\n    constructor(props: VideoPlayerProps) {\n        super(props);\n\n        this.state = {\n            embedId: \"\",\n            isIdValid: true\n        };\n\n        this.getEmbedId = this.getEmbedId.bind(this);\n    }\n\n    componentDidMount(): void {\n        this.context.addActionListener(\"videoPlayer\", this.getEmbedId);\n    }\n\n    // Valid link formats: \n    // https://www.youtube.com/watch?v=JzeZZ3IV27Q\n    // https://youtu.be/JzeZZ3IV27Q\n    // JzeZZ3IV27Q\n    async getEmbedId(searchStr: string): Promise<void> {\n        const regex = /^(https:\\/\\/www.youtube.com\\/watch\\?v=[a-zA-Z0-9]{11})|(https:\\/\\/youtu.be\\/[a-zA-Z0-9]{11})|([a-zA-Z0-9]{11})$/;\n        let embedId = \"\";\n\n        if (searchStr.match(regex))\n            embedId = searchStr.substring(searchStr.length - 11);\n\n        if (!embedId || embedId.length !== 11) {\n            this.setState({embedId: \"\", isIdValid: false});\n            return;\n        }\n\n        this.setState({embedId: embedId, isIdValid: true});\n    }\n\n    componentWillUnmount(): void {\n        this.context.removeActionListener(\"videoPlayer\");\n    }\n\n    render(): JSX.Element {\n        const { embedId, isIdValid } = this.state;\n        const height = this.WIDTH * (9 / 16);\n        return (\n            <div className=\"flex w-full justify-center relative\">\n                <div className=\"absolute left-0 right-0 top-0 bottom-0 bg-gray-900 opacity-50\"></div>\n                {(!embedId && \n                    <div className=\"flex w-full justify-center z-10\">\n                        <div className=\"flex items-center justify-center bg-gray-900\" style={{width: this.WIDTH, height: height}}>\n                            <span className=\"text-gray-400\">{`${isIdValid ? \"No video selected.\" : \"Invalid video url or id given.\"}`}</span>\n                        </div>\n                    </div>\n                ) || \n                (embedId &&\n                    <div className=\"z-10\">\n                        <iframe width={this.WIDTH}\n                            height={height}\n                            src={`https://www.youtube.com/embed/${embedId}`}\n                            frameBorder=\"0\"\n                            allow=\"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                            allowFullScreen\n                            title=\"Youtube\" />\n                    </div>\n                )}\n            </div>\n        );\n    }\n}","import React from \"react\";\nimport Policies from \"../components/Policies\";\nimport PolicyState from \"../components/PolicyState\";\nimport ToggleTeam from \"../components/ToggleTeam\";\nimport TopBar from \"../components/TopBar\";\nimport VideoPlayer from \"../components/VideoPlayer\";\nimport { Team } from \"../models/Policies\";\nimport { AccuracyContext, SearchContext, TeamContext } from \"../utils/Context\";\nimport { Action } from \"../utils/Enums\";\n\ntype MainPageProps = {\n\n}\n\ntype MainPageState = {\n    team: Team;\n    searchStr: string;\n}\n\ntype TeamListener = {\n    name: string;\n    listener: (team: Team) => Promise<void>;\n}\n\ntype AccuracyListener = {\n    name: string;\n    listener: (accuracy: number) => Promise<void>;\n}\n\ntype SearchListener = {\n    name: string;\n    listener: (searchStr: string) => Promise<void>;\n}\n\nexport default class MainPage extends React.Component<MainPageProps, MainPageState> {\n    private teamListeners: TeamListener[] = [];\n    private accuracyListeners: AccuracyListener[] = [];\n    private searchListeners: SearchListener[] = [];\n    constructor(props: MainPageProps) {\n        super(props);\n\n        this.state = {\n            team: Team.Blue,\n            searchStr: \"\"\n        };\n\n        this.setTeam = this.setTeam.bind(this);\n        this.addTeamListener = this.addTeamListener.bind(this);\n        this.removeTeamListener = this.removeTeamListener.bind(this);\n\n        this.setAccuracy = this.setAccuracy.bind(this);\n        this.addAccuracyListener = this.addAccuracyListener.bind(this);\n        this.removeAccuracyListener = this.removeAccuracyListener.bind(this);\n\n        this.setSearchStr = this.setSearchStr.bind(this);\n        this.searchAction = this.searchAction.bind(this);\n        this.addSearchActionListener = this.addSearchActionListener.bind(this);\n        this.removeSearchActionListener = this.removeSearchActionListener.bind(this);\n    }\n\n    setTeam(team: Team): void {\n        this.setState({team: team}, async () => {\n            // run all listeners\n            await Promise.all(this.teamListeners.map(fn => fn.listener(team)));\n        });\n    }\n\n    addTeamListener(name: string, listener: (team: Team) => Promise<void>): void {\n        if (this.teamListeners.filter(listener => listener.name === name).length > 0)\n            return;\n        \n        this.teamListeners.push({name, listener});\n    }\n\n    removeTeamListener(name: string): void {\n        if (this.teamListeners.filter(listener => listener.name === name).length <= 0)\n            return;\n\n        this.teamListeners = this.teamListeners.filter(listener => listener.name !== name);\n    }\n\n    async setAccuracy(accuracy: number): Promise<void> {\n        await Promise.all(this.accuracyListeners.map(fn => fn.listener(accuracy)));\n    }\n\n    addAccuracyListener(name: string, listener: (accuracy: number) => Promise<void>): void {\n        if (this.accuracyListeners.filter(listener => listener.name === name).length > 0)\n            return;\n        \n        this.accuracyListeners.push({name, listener});\n    }\n\n    removeAccuracyListener(name: string): void {\n        if (this.accuracyListeners.filter(listener => listener.name === name).length <= 0)\n            return;\n\n        this.accuracyListeners = this.accuracyListeners.filter(listener => listener.name !== name);\n    }\n\n    setSearchStr(searchStr: string): void {\n        this.setState({searchStr: searchStr});\n    }\n\n    async searchAction(): Promise<void> {\n        const { searchStr } = this.state;\n        await Promise.all(this.searchListeners.map(fn => fn.listener(searchStr)));\n    }\n\n    addSearchActionListener(name: string, listener: (searchStr: string) => Promise<void>): void {\n        if (this.searchListeners.filter(listener => listener.name === name).length > 0)\n            return;\n\n        this.searchListeners.push({name, listener});\n    }\n\n    removeSearchActionListener(name: string): void {\n        if (this.searchListeners.filter(listener => listener.name === name).length <= 0)\n            return;\n\n        this.searchListeners = this.searchListeners.filter(listener => listener.name !== name);\n    }\n    \n    render(): JSX.Element {\n        const { team, searchStr } = this.state;\n        return (\n            <TeamContext.Provider value={{team: team, setTeam: this.setTeam, addListener: this.addTeamListener, removeListener: this.removeTeamListener}}>\n                <AccuracyContext.Provider value={{setAccuracy: this.setAccuracy, addListener: this.addAccuracyListener, removeListener: this.removeAccuracyListener}}>\n                    <SearchContext.Provider value={{searchStr: searchStr, setSearchStr: this.setSearchStr, searchAction: this.searchAction, addActionListener: this.addSearchActionListener, removeActionListener: this.removeSearchActionListener}}>\n                        <div className={`transition-default duration-500 ease-in-out flex flex-col w-screen h-screen ${team === Team.Blue ? \"bg-blue-300\" : \"bg-red-300\"}`}>\n                            <TopBar />\n                            <VideoPlayer />\n                            <Policies />\n                        </div>\n                    </SearchContext.Provider>\n                </AccuracyContext.Provider>\n            </TeamContext.Provider>\n        );\n    }\n}","import axios from \"axios\";\nimport React from \"react\";\nimport { Cookies, withCookies } from \"react-cookie/es6\";\nimport LoginPage from \"./pages/LoginPage\";\nimport MainPage from \"./pages/MainPage\";\nimport Configuration from \"./utils/Configuration\";\nimport { AuthContext, BaseUrlContext, CookiesContext, TooltipContext } from \"./utils/Context\";\n\n\ntype AppProps = {\n    cookies: Cookies;\n}\n\ntype AppState = {\n    token: string;\n    baseUrl: string;\n    currentTooltip: number;\n    isTooltipEnabled: boolean;\n}\n\ntype BaseUrlListener = {\n    name: string;\n    listener: (baseUrl: string) => Promise<void>;\n}\n\nexport class App extends React.Component<AppProps, AppState> {\n    private baseUrlListeners: BaseUrlListener[] = [];\n    constructor(props: AppProps) {\n        super(props);\n\n        this.state = {\n            token: \"\",\n            baseUrl: Configuration.serverBaseUrl,\n            currentTooltip: 0,\n            isTooltipEnabled: true\n        };\n\n        this.setToken = this.setToken.bind(this);\n        this.loadTokenFromCookie = this.loadTokenFromCookie.bind(this);\n        this.checkTokenValid = this.checkTokenValid.bind(this);\n\n        this.setBaseUrl = this.setBaseUrl.bind(this);\n        this.addBaseUrlListener = this.addBaseUrlListener.bind(this);\n        this.removeBaseUrlListener = this.removeBaseUrlListener.bind(this);\n\n        this.setCurrentTooltip = this.setCurrentTooltip.bind(this);\n        this.resetCurrentTooltip = this.resetCurrentTooltip.bind(this);\n        this.setTooltipEnabled = this.setTooltipEnabled.bind(this);\n    }\n\n    async componentDidMount(): Promise<void> {\n        await this.loadTokenFromCookie();\n\n        const { cookies } = this.props;\n        const enabled: string | undefined = cookies.get(\"isTooltipEnabled\");\n        \n        if (enabled == undefined)\n            cookies.set(\"isTooltipEnabled\", true);\n        else\n            this.setState({isTooltipEnabled: enabled === \"true\"});\n    }\n\n    async setToken(token: string): Promise<void> {\n        const { cookies } = this.props;\n        const isTokenValid = await this.checkTokenValid(token);\n        if (isTokenValid)\n            this.setState({token: token}, () => {\n                cookies.set(\"token\", token);\n                this.resetCurrentTooltip();\n            });\n        else\n            this.setState({token: \"\"}, () => {\n                this.resetCurrentTooltip();\n            });\n    }\n\n    async loadTokenFromCookie(): Promise<void> {\n        const { cookies } = this.props;\n        const token: string = cookies.get(\"token\");\n        if (!token)\n            return;\n\n        const isTokenValid = await this.checkTokenValid(token);\n        this.setState({token: isTokenValid ? token : \"\"}, () => {\n            this.resetCurrentTooltip();\n        });\n    }\n\n    async checkTokenValid(token: string): Promise<boolean> {\n        const { baseUrl } = this.state;\n\n        try {\n            const res = await axios.get(`${baseUrl}/auth/token`, {\n                headers: {\n                    \"X-Access-Tokens\": token\n                }\n            });\n\n            if (res.status === 200)\n                return res.data[\"message\"] === \"valid token\";\n\n            return false;\n        } catch (err) {\n            alert(`${err.response.status}: ${err.response.data}`);\n            return false;\n        }\n    }\n\n    setBaseUrl(baseUrl: string): void {\n        this.setState({baseUrl: baseUrl}, async () => {\n            await Promise.all(this.baseUrlListeners.map(fn => fn.listener(baseUrl)));\n        });\n    }\n\n    addBaseUrlListener(name: string, listener: (baseUrl: string) => Promise<void>): void {\n        if (this.baseUrlListeners.filter(listener => listener.name === name).length > 0)\n            return;\n\n        this.baseUrlListeners.push({name, listener});\n    }\n\n    removeBaseUrlListener(name: string): void {\n        if (this.baseUrlListeners.filter(listener => listener.name === name).length <= 0)\n            return;\n\n        this.baseUrlListeners = this.baseUrlListeners.filter(listener => listener.name !== name);\n    }\n\n    setCurrentTooltip(index: number): void {\n        this.setState({currentTooltip: index});\n    }\n\n    resetCurrentTooltip(): void {\n        this.setCurrentTooltip(0);\n    }\n\n    setTooltipEnabled(isEnabled: boolean): void {\n        const { cookies } = this.props;\n        this.setState({isTooltipEnabled: isEnabled}, () => {\n            cookies.set(\"isTooltipEnabled\", isEnabled);\n        });\n    }\n\n    render(): JSX.Element {\n        const { cookies } = this.props;\n        const { token, baseUrl, currentTooltip, isTooltipEnabled } = this.state;\n        \n        return (\n            <AuthContext.Provider value={{token: token, setToken: this.setToken}}>\n                <BaseUrlContext.Provider value={{baseUrl: baseUrl, setBaseUrl: this.setBaseUrl, addListener: this.addBaseUrlListener, removeListener: this.removeBaseUrlListener}}>\n                    <CookiesContext.Provider value={{cookies: cookies}}>\n                        <TooltipContext.Provider value={{currentTooltip: currentTooltip, isTooltipEnabled: isTooltipEnabled, setCurrentTooltip: this.setCurrentTooltip, resetCurrentTooltip: this.resetCurrentTooltip, setTooltipEnabled: this.setTooltipEnabled}}>\n                            <div className=\"App\">\n                                {(!token &&\n                                    <LoginPage />\n                                ) ||\n                                (token &&\n                                    <MainPage />\n                                )}\n                            </div>\n                        </TooltipContext.Provider>\n                    </CookiesContext.Provider>\n                </BaseUrlContext.Provider>\n            </AuthContext.Provider>\n        );\n    }\n}\n\nexport default withCookies(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(\n            process.env.PUBLIC_URL,\n            window.location.href\n        );\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\");\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error(\"Error during service worker registration:\", error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { \"Service-Worker\": \"script\" }\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\");\n            if (\n                response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                \"No internet connection found. App is running in offline mode.\"\n            );\n        });\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./assets/app.css\";\nimport \"./assets/main.css\";\nimport \"./assets/toggle.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { CookiesProvider } from \"react-cookie/es6\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <CookiesProvider>\n            <App />\n        </CookiesProvider>\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}