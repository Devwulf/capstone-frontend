(this["webpackJsonpcapstone-frontend"]=this["webpackJsonpcapstone-frontend"]||[]).push([[0],{131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(19),c=n.n(s),i=(n(131),n(132),n(133),n(134),n(5)),o=n.n(i),l=n(10),u=n(2),b=n(3),h=n(11),d=n(6),p=n(9),f=n(23),x=n.n(f),j=n(310),m=n(17),v=n(34),O=n.n(v),T=function e(){Object(u.a)(this,e)};T.localBaseUrl="http://localhost:5000",T.serverBaseUrl="https://api.devwulfcodes.com/capstone";var g,y=n(120);!function(e){e[e.Blue=0]="Blue",e[e.Red=1]="Red"}(g||(g={}));var R=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{policies:[]};Object(u.a)(this,e),this.baseUrl=void 0,this.policies=void 0,this.baseUrl=t,this.policies=n}return Object(b.a)(e,[{key:"retrieveBestPolicies",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,s,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:g.Blue,r=i.length>2&&void 0!==i[2]?i[2]:0,a=i.length>3&&void 0!==i[3]?i[3]:"bKills",s=[],c="".concat(this.baseUrl,"/api/policy/best?team=").concat(g[n],"&state=").concat(r,"&actions=").concat(a),e.next=7,x.a.get(c,{headers:{"X-Access-Tokens":t}});case 7:e.sent.data.policies.forEach((function(e){s.push(e)})),this.policies.policies=s;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveNextPolicies",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,s,c,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:g.Blue,r=i.length>2&&void 0!==i[2]?i[2]:0,a=i.length>3&&void 0!==i[3]?i[3]:"bKills",s=[],c="".concat(this.baseUrl,"/api/policy/next?team=").concat(g[n],"&state=").concat(r,"&action=").concat(a),e.next=7,x.a.get(c,{headers:{"X-Access-Tokens":t}});case 7:e.sent.data.policies.forEach((function(e){s.push(e)})),this.policies.policies=s;case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveStartPolicies",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,s=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:g.Blue,r=[],a="".concat(this.baseUrl,"/api/policy/start?team=").concat(g[n]),e.next=5,x.a.get(a,{headers:{"X-Access-Tokens":t}});case 5:e.sent.data.policies.forEach((function(e){r.push(e)})),this.policies.policies=r;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addPolicy",value:function(e){this.policies.policies.push(e)}},{key:"clearPolicies",value:function(){this.policies.policies=[]}},{key:"getSchema",value:function(){return this.policies}}]),e}(),k=a.a.createContext({team:g.Blue,setTeam:function(e){},addListener:function(e,t){},removeListener:function(e){}}),N=a.a.createContext({choosePolicy:function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}),w=a.a.createContext({setAccuracy:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addListener:function(e,t){},removeListener:function(e){}}),E=a.a.createContext({searchStr:"",setSearchStr:function(e){},searchAction:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addActionListener:function(e,t){},removeActionListener:function(e){}}),_=a.a.createContext({token:"",setToken:function(e){}}),U=a.a.createContext({baseUrl:"",setBaseUrl:function(e){},addListener:function(e,t){},removeListener:function(e){}}),C=a.a.createContext({cookies:new y.a}),A=a.a.createContext({currentTooltip:0,isTooltipEnabled:!0,setCurrentTooltip:function(e){},resetCurrentTooltip:function(){},setTooltipEnabled:function(e){}}),I=a.a.createContext({showGraph:!1,setShowGraph:function(e){}}),B=n(1),S=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(b.a)(n,[{key:"render",value:function(){return Object(B.jsx)(U.Consumer,{children:function(e){var t=e.baseUrl,n=e.setBaseUrl;return Object(B.jsx)("div",{className:"flex items-center",children:Object(B.jsxs)("label",{htmlFor:"",className:"flex items-center",children:[Object(B.jsx)("span",{className:"text-sm font-bold mr-2 text-gray-900",children:"Local"}),Object(B.jsx)(O.a,{className:"mr-2",icons:!1,checked:t===T.serverBaseUrl,onChange:function(e){var t=e.target.checked?T.serverBaseUrl:T.localBaseUrl;n(t)}}),Object(B.jsx)("span",{className:"text-sm font-bold text-gray-900",children:"Server"})]})})}})}}]),n}(a.a.Component),P=n(4),L=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(b.a)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.order,a=n.text,s=n.position,c=n.positionOffsetX,i=void 0===c?0:c,o=n.positionOffsetY,l=void 0===o?0:o,u=n.targetSizeY,b=void 0===u?0:u,h=n.hasPrev,d=void 0!==h&&h,p=n.hasNext,f=void 0!==p&&p,x=n.hasClose,j=void 0!==x&&x;switch(s){case"top":t={bottom:"calc(100% + 0.75rem + ".concat(l,"rem)")},e={left:"".concat(0!==i?i+"rem":""),bottom:t.bottom};break;case"bottom":t={top:"calc(100% + 0.75rem + ".concat(l,"rem)")},e={left:"".concat(0!==i?i+"rem":""),top:t.top};break;case"left":t={top:"".concat(b/2,"px"),right:"calc(100% + 0.75rem + ".concat(i,"rem)")},e={top:"".concat(0!==l?l+"rem":""),right:t.right};break;default:t={top:"".concat(b/2,"px"),left:"calc(100% + 0.75rem + ".concat(i,"rem)")},e={top:"".concat(0!==l?l+"rem":""),left:t.left}}return Object(B.jsx)(A.Consumer,{children:function(n){var c=n.currentTooltip,i=n.isTooltipEnabled,o=n.setCurrentTooltip,l=n.setTooltipEnabled;return i&&c===r?Object(B.jsxs)("div",{className:"relative w-full flex items-center justify-center z-50",style:{bottom:"100%"},children:[Object(B.jsxs)("div",{className:"absolute flex flex-col p-2 text-sm rounded-default w-64 bg-gray-800 text-gray-100",style:Object(P.a)({},e),children:[Object(B.jsx)("span",{className:"mb-2",children:a}),Object(B.jsxs)("div",{className:"flex justify-between",children:[Object(B.jsx)("div",{className:"",children:Object(B.jsx)("button",{className:"px-2 py-1 rounded-default bg-gray-600",hidden:!d||r<=0,onClick:function(){return o(r-1)},children:"Prev"})}),Object(B.jsxs)("div",{className:"",children:[Object(B.jsx)("button",{className:"px-2 py-1 mr-1 rounded-default bg-blue-500",hidden:!f,onClick:function(){return o(r+1)},children:"Next"}),Object(B.jsx)("button",{className:"px-2 py-1 rounded-default bg-red-500",hidden:!j,onClick:function(){return l(!1)},children:"Close"})]})]})]}),Object(B.jsx)("div",{className:"tooltip-".concat(s," absolute flex flex-col w-full h-full"),style:Object(P.a)({},t)})]}):null}})}}]),n}(a.a.Component),D=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={username:"",password:"",isRegister:!1},r.onDemoClick=r.onDemoClick.bind(Object(h.a)(r)),r.onRegister=r.onRegister.bind(Object(h.a)(r)),r.onLogin=r.onLogin.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"onDemoClick",value:function(){this.setState({username:"test",password:"test123"})}},{key:"onRegister",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.baseUrlContext,n=this.state,r=n.username,a=n.password,e.prev=2,e.next=5,x.a.post("".concat(t.baseUrl,"/auth/register"),{username:r,password:a});case 5:200===(s=e.sent).status&&alert(s.data.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert("".concat(e.t0.response.status,": ").concat(e.t0.response.data));case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"onLogin",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,s,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.authContext,r=t.baseUrlContext,a=this.state,s=a.username,c=a.password,e.prev=2,e.next=5,x.a.post("".concat(r.baseUrl,"/auth/login"),{},{auth:{username:s,password:c}});case 5:200===(i=e.sent).status&&n.setToken(i.data.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert("".concat(e.t0.response.status,": ").concat(e.t0.response.data));case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.username,r=t.password,a=t.isRegister;return Object(B.jsx)("div",{className:"flex justify-center items-center w-screen h-screen",children:!a&&Object(B.jsxs)("div",{className:"flex flex-col p-4 rounded-lg bg-indigo-200 text-indigo-900",children:[Object(B.jsxs)("div",{className:"flex flex-row justify-between items-center mb-4",children:[Object(B.jsx)("span",{className:"text-2xl font-bold",children:"Login"}),Object(B.jsxs)("div",{className:"",children:[Object(B.jsx)(S,{}),Object(B.jsx)(L,{order:0,text:"This is for choosing whether to use your own local backend server or a premade server for login.",position:"top",positionOffsetY:1.5,hasNext:!0})]})]}),Object(B.jsxs)("div",{className:"flex flex-col mb-2",children:[Object(B.jsx)("label",{className:"text-xs mb-1",htmlFor:"",children:"Username"}),Object(B.jsx)("input",{className:"px-2 py-1 rounded-default text-sm",value:n,onChange:function(t){return e.setState({username:t.target.value})}})]}),Object(B.jsxs)("div",{className:"flex flex-col mb-4",children:[Object(B.jsx)("label",{className:"text-xs mb-1",htmlFor:"",children:"Password"}),Object(B.jsx)("input",{className:"px-2 py-1 rounded-default text-sm",value:r,type:"password",onChange:function(t){return e.setState({password:t.target.value})}})]}),Object(B.jsxs)("div",{className:"flex justify-between",children:[Object(B.jsx)("button",{className:"px-4 py-1 mr-2 rounded-default text-xs bg-indigo-700 text-indigo-200",onClick:this.onLogin,children:"Login"}),Object(B.jsxs)("div",{className:"",children:[Object(B.jsx)("button",{className:"px-4 py-1 rounded-default text-xs bg-indigo-400 text-indigo-100",onClick:this.onDemoClick,children:"Demo"}),Object(B.jsx)(L,{order:1,text:"This button fills in the login details for demo. Try it out!",position:"right",positionOffsetY:-1.5,targetSizeY:26,hasPrev:!0,hasNext:!0})]})]})]})})}}]),n}(a.a.Component);function H(){var e=Object(r.useContext)(_),t=Object(r.useContext)(U);return Object(B.jsx)(D,{authContext:e,baseUrlContext:t})}var M=n(35),G=n.n(M),V=n(54),F=n(53),K=function(){function e(t){Object(u.a)(this,e),this.baseUrl=void 0,this.graph=void 0,this.baseUrl=t,this.graph={points:[]}}return Object(b.a)(e,[{key:"retrieveQValuesGraph",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,s,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:g.Blue,r=c.length>2&&void 0!==c[2]?c[2]:"bKills",a=[],s="".concat(this.baseUrl,"/api/policy/line?team=").concat(g[n],"&endAction=").concat(r,"&isProbability=",!1),e.next=6,x.a.get(s,{headers:{"X-Access-Tokens":t}});case 6:e.sent.data.points.forEach((function(e){a.push(e)})),this.graph.points=a;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retrieveProbabilityGraph",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,s,c=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:g.Blue,r=c.length>2&&void 0!==c[2]?c[2]:"bKills",a=[],s="".concat(this.baseUrl,"/api/policy/line?team=").concat(g[n],"&endAction=").concat(r,"&isProbability=",!0),e.next=6,x.a.get(s,{headers:{"X-Access-Tokens":t}});case 6:e.sent.data.points.forEach((function(e){a.push(e)})),this.graph.points=a;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearPoints",value:function(){this.graph.points=[]}},{key:"getSchema",value:function(){return this.graph}}]),e}(),W=function(){function e(t){Object(u.a)(this,e),this.baseUrl=void 0,this.graph=void 0,this.baseUrl=t,this.graph={points:[]}}return Object(b.a)(e,[{key:"retrieveProbabilityGraph",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r,a,s,c,i,l=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:g.Blue,r=l.length>2&&void 0!==l[2]?l[2]:0,a=l.length>3&&void 0!==l[3]?l[3]:"bKills",s=!(l.length>4&&void 0!==l[4])||l[4],c=[],i="".concat(this.baseUrl,"/api/policy/pie?team=").concat(g[n],"&startState=").concat(r,"&startAction=").concat(a,"&hasKills=").concat(s),e.next=8,x.a.get(i,{headers:{"X-Access-Tokens":t}});case 8:e.sent.data.points.forEach((function(e){c.push(e)})),this.graph.points=c;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearPoints",value:function(){this.graph.points=[]}},{key:"getSchema",value:function(){return this.graph}}]),e}(),X=function e(){Object(u.a)(this,e)};X.Actions=["bKills","rKills","bTOP_OUTER_TURRET","rTOP_OUTER_TURRET","bMID_OUTER_TURRET","rMID_OUTER_TURRET","bBOT_OUTER_TURRET","rBOT_OUTER_TURRET","bTOP_INNER_TURRET","rTOP_INNER_TURRET","bMID_INNER_TURRET","rMID_INNER_TURRET","bBOT_INNER_TURRET","rBOT_INNER_TURRET","bTOP_BASE_TURRET","rTOP_BASE_TURRET","bMID_BASE_TURRET","rMID_BASE_TURRET","bBOT_BASE_TURRET","rBOT_BASE_TURRET","bTOP_INHIBITOR","rTOP_INHIBITOR","bMID_INHIBITOR","rMID_INHIBITOR","bBOT_INHIBITOR","rBOT_INHIBITOR","bMID_NEXUS_TURRET","rMID_NEXUS_TURRET","bDRAGON","rDRAGON","bRIFT_HERALD","rRIFT_HERALD","bBARON_NASHOR","rBARON_NASHOR","bELDER_DRAGON","rELDER_DRAGON"],X.WinningActions=["bWon","rWon"];var Y=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;Object(u.a)(this,n),r=t.call(this,e);var a=e.baseUrlContext.baseUrl;return r.state={team:g.Blue,endAction:"bKills",graph:new K(a)},r.getData=r.getData.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,s,c,i,l,u,b,h,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.authContext,r=t.isProbability,a=this.state,s=a.team,c=a.endAction,i=a.graph,!r){e.next=7;break}return e.next=5,i.retrieveProbabilityGraph(n.token,s,c);case 5:e.next=9;break;case 7:return e.next=9,i.retrieveQValuesGraph(n.token,s,c);case 9:l=i.getSchema().points,u=[],b=[],l.forEach((function(e){u.push(e.x),b.push(e.y)})),h={labels:u,datasets:[{label:"Average ".concat(r?"Probability":"Q-Value"),data:b,tension:.5,backgroundColor:r?"rgb(237, 137, 54)":"rgb(159, 122, 234)",borderColor:r?"rgba(237, 137, 54, 0.2)":"rgba(159, 122, 234, 0.2)"}]},d={plugins:{title:{display:!0,text:"Average ".concat(r?"Probability":"Q-Value"," over Time For ").concat(g[s]," Team with '").concat(c,"' End Action")}},scales:{x:{title:{display:!0,text:"State"}},y:{min:r?0:-100,max:r?1:100,title:{display:!0,text:r?"Probability":"Q-Value"}}}},this.setState({data:h,options:d});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.isProbability,r=t.showTeam,a=void 0===r||r,s=this.state,c=s.data,i=s.options;if(!c)return null;var o=[];return X.Actions.concat(X.WinningActions).forEach((function(e){o.push({label:e,value:e})})),Object(B.jsxs)("div",{className:"flex flex-col mb-16 purple",children:[Object(B.jsxs)("div",{className:"flex flex-row mb-4 px-4 justify-between",children:[Object(B.jsx)("div",{className:"flex items-center text-xl font-bold",children:"".concat(n?"Probability":"Q-Value"," Graph")}),Object(B.jsxs)("div",{className:"flex flex-row",children:[a&&Object(B.jsxs)("div",{className:"flex items-center mr-4",children:[Object(B.jsx)("span",{className:"text-lg font-bold mr-2 text-gray-800",children:"Team"}),Object(B.jsx)(O.a,{icons:!1,onChange:function(t){var n=t.target.checked?g.Red:g.Blue;e.setState({team:n})}})]}),Object(B.jsxs)("div",{className:"flex items-center mr-4",children:[Object(B.jsx)("span",{className:"text-lg font-bold mr-2 text-gray-800",children:"End Action"}),Object(B.jsx)(F.a,{options:o,styles:{container:function(e){return Object(P.a)(Object(P.a)({},e),{},{width:300})}},defaultValue:o.find((function(e){return"bKills"===e.label})),onChange:function(t){t&&e.setState({endAction:t.value})}})]}),Object(B.jsx)("button",{className:"px-4 rounded-default text-sm bg-green-500 text-green-200",onClick:function(){return e.getData()},children:"Apply"})]})]}),Object(B.jsx)(V.a,{data:c,options:i})]})}}]),n}(a.a.Component);function z(e){var t=Object(r.useContext)(_),n=Object(r.useContext)(U);return Object(B.jsx)(Y,{authContext:t,baseUrlContext:n,isProbability:e.isProbability,showTeam:e.showTeam})}var Q=n(14),q=(n(293),n(58)),Z=["value","dragging","index"],J=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;Object(u.a)(this,n),r=t.call(this,e);var a=e.baseUrlContext.baseUrl;return r.state={team:g.Blue,startState:0,startAction:"bKills",hasKills:!0,graph:new W(a)},r.getData=r.getData.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,s,c,i,l,u,b,h,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.authContext,n=this.state,r=n.team,a=n.startState,s=n.startAction,c=n.hasKills,i=n.graph,e.next=4,i.retrieveProbabilityGraph(t.token,r,a,s,c);case 4:l=i.getSchema().points,u=[],b=[],l.forEach((function(e){u.push(e.label),b.push(e.value)})),h={labels:u,datasets:[{label:"Probability on State ".concat(a),data:b,backgroundColor:["rgba(245, 101, 101, 0.2)","rgba(237, 137, 54, 0.2)","rgba(236, 201, 75, 0.2)","rgba(72, 187, 120, 0.2)","rgba(56, 178, 172, 0.2)","rgba(66, 153, 225, 0.2)","rgba(102, 126, 234, 0.2)","rgba(159, 122, 234, 0.2)","rgba(237, 100, 166, 0.2)"],borderColor:["rgba(245, 101, 101, 1)","rgba(237, 137, 54, 1)","rgba(236, 201, 75, 1)","rgba(72, 187, 120, 1)","rgba(56, 178, 172, 1)","rgba(66, 153, 225, 1)","rgba(102, 126, 234, 1)","rgba(159, 122, 234, 1)","rgba(237, 100, 166, 1)"]}]},d={plugins:{title:{display:!0,text:"Probability of Next Action given State ".concat(a," and Action '").concat(s,"'")}}},this.setState({data:h,options:d});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.data,r=t.options;if(!n)return null;var a=[];return X.Actions.forEach((function(e){a.push({label:e,value:e})})),Object(B.jsxs)("div",{className:"flex flex-col mb-16",children:[Object(B.jsxs)("div",{className:"flex flex-row mb-4 px-4 justify-between",children:[Object(B.jsx)("div",{className:"flex items-center text-xl font-bold",children:"Probability Pie Chart"}),Object(B.jsxs)("div",{className:"flex flex-row",children:[Object(B.jsxs)("div",{className:"flex items-center mr-4",style:{width:"16rem"},children:[Object(B.jsx)("span",{className:"text-lg font-bold mr-4 text-gray-800",children:"State"}),Object(B.jsx)(q.c,{min:0,max:93,onAfterChange:function(t){return e.setState({startState:t})},handle:$})]}),Object(B.jsxs)("div",{className:"flex items-center mr-4",children:[Object(B.jsx)("span",{className:"text-lg font-bold mr-2 text-gray-800",children:"Action"}),Object(B.jsx)(F.a,{options:a,styles:{container:function(e){return Object(P.a)(Object(P.a)({},e),{},{width:220})}},defaultValue:a.find((function(e){return"bKills"===e.label})),onChange:function(t){t&&e.setState({startAction:t.value})}})]}),Object(B.jsx)("button",{className:"px-4 rounded-default text-sm bg-green-500 text-green-200",onClick:function(){return e.getData()},children:"Apply"})]})]}),Object(B.jsx)(V.b,{data:n,options:r})]})}}]),n}(a.a.Component);function $(e){var t=e.value,n=e.dragging,r=e.index,a=Object(Q.a)(e,Z);return Object(B.jsx)(q.b,{prefixCls:"rc-slider-tooltip",overlay:"".concat(t),visible:n,placement:"top",zIndex:50,children:Object(B.jsx)(q.a,Object(P.a)({value:t},a))},r)}function ee(){var e=Object(r.useContext)(_),t=Object(r.useContext)(U);return Object(B.jsx)(J,{authContext:e,baseUrlContext:t})}var te=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(b.a)(n,[{key:"render",value:function(){return Object(B.jsx)(I.Consumer,{children:function(e){var t=e.setShowGraph;return Object(B.jsxs)("div",{className:"absolute top-0 bottom-0 left-0 right-0 flex",children:[Object(B.jsx)("div",{className:"w-full h-full bg-gray-900 opacity-50"}),Object(B.jsx)("div",{className:"absolute w-full h-full flex items-center justify-center px-24 py-12 z-20",children:Object(B.jsxs)("div",{className:"w-full h-full max-w-6xl bg-gray-100",children:[Object(B.jsx)("div",{className:"p-4 flex flex-row-reverse justify-between",children:Object(B.jsx)("button",{className:"px-4 py-2 rounded-default text-sm bg-red-500 text-red-200",onClick:function(){return t(!1)},children:"Close"})}),Object(B.jsx)("div",{className:"p-4",style:{height:"calc(100% - 4.5rem)"},children:Object(B.jsx)(G.a,{children:Object(B.jsxs)("div",{className:"px-4",children:[Object(B.jsx)(z,{isProbability:!0,showTeam:!1}),Object(B.jsx)(z,{isProbability:!1}),Object(B.jsx)(ee,{})]})})})]})})]})}})}}]),n}(a.a.Component),ne=n(13);function re(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return n.setState(t,(function(){return e(null)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se,ce=n(57),ie=n.n(ce);!function(e){e[e.bKills=0]="bKills",e[e.bTOP_OUTER_TURRET=1]="bTOP_OUTER_TURRET",e[e.bTOP_INNER_TURRET=2]="bTOP_INNER_TURRET",e[e.bTOP_BASE_TURRET=3]="bTOP_BASE_TURRET",e[e.bTOP_INHIBITOR=4]="bTOP_INHIBITOR",e[e.bMID_OUTER_TURRET=5]="bMID_OUTER_TURRET",e[e.bMID_INNER_TURRET=6]="bMID_INNER_TURRET",e[e.bMID_BASE_TURRET=7]="bMID_BASE_TURRET",e[e.bMID_INHIBITOR=8]="bMID_INHIBITOR",e[e.bMID_NEXUS_TURRET=9]="bMID_NEXUS_TURRET",e[e.bBOT_OUTER_TURRET=10]="bBOT_OUTER_TURRET",e[e.bBOT_INNER_TURRET=11]="bBOT_INNER_TURRET",e[e.bBOT_BASE_TURRET=12]="bBOT_BASE_TURRET",e[e.bBOT_INHIBITOR=13]="bBOT_INHIBITOR",e[e.bDRAGON=14]="bDRAGON",e[e.bELDER_DRAGON=15]="bELDER_DRAGON",e[e.bRIFT_HERALD=16]="bRIFT_HERALD",e[e.bBARON_NASHOR=17]="bBARON_NASHOR",e[e.bWon=18]="bWon",e[e.rKills=19]="rKills",e[e.rTOP_OUTER_TURRET=20]="rTOP_OUTER_TURRET",e[e.rTOP_INNER_TURRET=21]="rTOP_INNER_TURRET",e[e.rTOP_BASE_TURRET=22]="rTOP_BASE_TURRET",e[e.rTOP_INHIBITOR=23]="rTOP_INHIBITOR",e[e.rMID_OUTER_TURRET=24]="rMID_OUTER_TURRET",e[e.rMID_INNER_TURRET=25]="rMID_INNER_TURRET",e[e.rMID_BASE_TURRET=26]="rMID_BASE_TURRET",e[e.rMID_INHIBITOR=27]="rMID_INHIBITOR",e[e.rMID_NEXUS_TURRET=28]="rMID_NEXUS_TURRET",e[e.rBOT_OUTER_TURRET=29]="rBOT_OUTER_TURRET",e[e.rBOT_INNER_TURRET=30]="rBOT_INNER_TURRET",e[e.rBOT_BASE_TURRET=31]="rBOT_BASE_TURRET",e[e.rBOT_INHIBITOR=32]="rBOT_INHIBITOR",e[e.rDRAGON=33]="rDRAGON",e[e.rELDER_DRAGON=34]="rELDER_DRAGON",e[e.rRIFT_HERALD=35]="rRIFT_HERALD",e[e.rBARON_NASHOR=36]="rBARON_NASHOR",e[e.rWon=37]="rWon"}(se||(se={}));var oe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(b.a)(n,[{key:"render",value:function(){var e=this.props,t=e.policy,n=e.isSelected,r=void 0!==n&&n,a=e.isDisabled,s=void 0!==a&&a,c=e.isBestProb,i=void 0!==c&&c,o=e.isBestQValue,l=void 0!==o&&o,u=e.showState,b=void 0!==u&&u,h=e.showAction,d=void 0!==h&&h,p=e.showProbability,f=void 0!==p&&p,x=e.showQValue,j=void 0!==x&&x,m=e.showGoldAdv,v=void 0!==m&&m,O=t.probability<0?"-":"".concat((100*t.probability).toFixed(2),"%"),T=t.qValue<0?"-":"".concat(t.qValue.toFixed(2)),y=""===t.goldAdv?"-":t.goldAdv;return Object(B.jsx)(k.Consumer,{children:function(e){var n=e.team;return Object(B.jsx)(N.Consumer,{children:function(e){var a=e.choosePolicy;return Object(B.jsxs)("button",{className:"flex flex-col items-center w-full ".concat(r?n===g.Blue?"bg-blue-600 text-blue-200":"bg-red-600 text-red-200":""," ").concat(s?"opacity-50 cursor-default":""),onClick:function(){return a(n,t)},disabled:s,children:[Object(B.jsx)("span",{className:"".concat(b?"":"hidden"),children:t.state}),Object(B.jsx)("span",{className:"".concat(d?"text-sm":"hidden"),children:t.action}),Object(B.jsxs)("div",{className:"flex flex-row",children:[Object(B.jsxs)("div",{className:"".concat(f?"flex flex-col mr-4":"hidden"," ").concat(i?"text-green-300 font-bold":""),children:[Object(B.jsx)("span",{className:"text-xs",children:"Probability"}),Object(B.jsx)("span",{className:"text-sm",children:O})]}),Object(B.jsxs)("div",{className:"".concat(j?"flex flex-col mr-4":"hidden"," ").concat(l?"text-green-300 font-bold":""),children:[Object(B.jsx)("span",{className:"text-xs",children:"Q-Value"}),Object(B.jsx)("span",{className:"text-sm",children:T})]}),Object(B.jsxs)("div",{className:"".concat(v?"flex flex-col":"hidden"),children:[Object(B.jsx)("span",{className:"text-xs",children:"Gold Adv"}),Object(B.jsx)("span",{className:"text-sm",children:y})]})]})]})}})}})}}]),n}(a.a.Component),le=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(b.a)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.state,a=n.selectedAction,s=n.actions,c=void 0===s?[]:s,i=n.isDisabled,o=void 0!==i&&i,l=c;if(c.length<=0){for(var u in se)if(isNaN(Number(u))){var b=void 0!==a&&a.action===u?a:{state:r,action:u,probability:-1,qValue:-1,goldAdv:""};l.push(b)}}else e=c.reduce((function(e,t){return e.probability>t.probability?e:t})),t=c.reduce((function(e,t){return e.qValue>t.qValue?e:t}));return Object(B.jsx)(k.Consumer,{children:function(n){var s=n.team;return Object(B.jsxs)("div",{className:"flex flex-col w-64 h-full p-4",children:[Object(B.jsxs)("div",{className:"flex flex-col items-center justify-center mb-2 h-12 ".concat(s===g.Blue?"text-blue-900":"text-red-900"),children:[Object(B.jsx)("span",{className:"text-xs",style:{marginBottom:"-0.5rem"},children:"Action"}),Object(B.jsx)("span",{className:"text-2xl font-medium",children:r+1})]}),Object(B.jsx)("div",{className:"flex flex-col h-full py-4 border-2 shadow-lg rounded-lg bg-gray-100 ".concat(s===g.Blue?"border-blue-800":"border-red-800"),children:Object(B.jsx)(G.a,{autoHide:!0,autoHideTimeout:250,style:{width:"100%"},children:l.map((function(n,r){return Object(B.jsx)("div",{className:"".concat(r===l.length-1?"":"mb-2"),children:Object(B.jsx)(oe,{policy:n,isSelected:void 0!==a&&(n.action===a.action||void 0!==e&&ie()(e,n)),isDisabled:o,isBestProb:void 0!==e&&ie()(e,n),isBestQValue:void 0!==t&&ie()(t,n),showAction:!0,showProbability:!0,showQValue:!0,showGoldAdv:!0})},r)}))})})]})}})}}]),n}(a.a.Component);le.contextType=N;var ue=n.p+"static/media/logo.103b5fa1.svg",be=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;Object(u.a)(this,n),r=t.call(this,e);var a=e.baseUrlContext.baseUrl;return r.state={currentPolicies:new R(a),bestPolicies:new R(a),nextPolicies:new R(a),pastPolicies:[],isLoading:!0,correctCount:0},r.onTeamChanged=r.onTeamChanged.bind(Object(h.a)(r)),r.onBaseUrlChanged=r.onBaseUrlChanged.bind(Object(h.a)(r)),r.resetPolicies=r.resetPolicies.bind(Object(h.a)(r)),r.onChoosePolicy=r.onChoosePolicy.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.teamContext,r=t.baseUrlContext,n.addListener("policies",this.onTeamChanged),r.addListener("policies",this.onBaseUrlChanged),e.next=5,this.state.nextPolicies.retrieveStartPolicies(this.props.authContext.token);case 5:return e.next=7,re({isLoading:!1},this);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onTeamChanged",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resetPolicies();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBaseUrlChanged",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resetPolicies();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPolicies",value:function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re({isLoading:!0,pastPolicies:[]},this);case 2:return e.next=4,this.state.currentPolicies.clearPolicies();case 4:return e.next=6,this.state.bestPolicies.clearPolicies();case 6:return e.next=8,this.state.nextPolicies.retrieveStartPolicies(this.props.authContext.token);case 8:return e.next=10,this.props.accuracyContext.setAccuracy(0);case 10:return e.next=12,re({isLoading:!1},this);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChoosePolicy",value:function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,s,c,i,l,u,b,h,d,p,f,x,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,a=r.accuracyContext,s=r.authContext,c=this.state,i=c.pastPolicies,l=c.currentPolicies,u=c.bestPolicies,b=c.nextPolicies,h=c.correctCount,l.addPolicy(n),d=u.getSchema().policies,p=l.getSchema().policies,f=h,d.length>1&&n.action===d[1].action&&f++,p.length>1&&a.setAccuracy(f/(p.length-1)),x=i.concat({policies:b.getSchema().policies}),e.next=11,re({isLoading:!0,pastPolicies:x,correctCount:f},this);case 11:if(!((j=p.length-1)>=0)){e.next=17;break}return e.next=15,u.retrieveBestPolicies(s.token,t,j,n.action);case 15:return e.next=17,b.retrieveNextPolicies(s.token,t,j,n.action);case 17:return e.next=19,re({isLoading:!1},this);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.teamContext,n=e.baseUrlContext;t.removeListener("policies"),n.removeListener("policies")}},{key:"render",value:function(){var e=this.state,t=e.pastPolicies,n=e.currentPolicies,r=e.bestPolicies,a=e.nextPolicies,s=e.isLoading,c=n.getSchema().policies,i=r.getSchema().policies,o=a.getSchema().policies,l=[];l.push.apply(l,Object(ne.a)(c)),l.push.apply(l,Object(ne.a)(i.slice(1)));var u=0;return o.length>0&&(u=o[0].state),Object(B.jsx)(N.Provider,{value:{choosePolicy:this.onChoosePolicy},children:Object(B.jsxs)("div",{className:"w-full h-full relative",children:[s&&Object(B.jsx)("div",{className:"absolute top-0 right-0 bottom-0 left-0 flex flex-col items-center justify-center backdrop-filter backdrop-blur-sm z-10",children:Object(B.jsxs)("div",{className:"p-4 bg-gray-800 rounded-md",children:[Object(B.jsx)("img",{src:ue,alt:"logo",className:"App-logo"}),Object(B.jsx)("span",{className:"text-2xl text-blue-200",children:"Loading"})]})}),Object(B.jsx)(G.a,{autoHide:!0,autoHideTimeout:250,children:Object(B.jsx)("div",{className:"flex flex-row h-full",children:c.length<=0&&Object(B.jsx)(le,{state:0,actions:o})||c.length>0&&Object(B.jsx)(B.Fragment,{children:l.map((function(e,n){return Object(B.jsx)("div",{className:"",children:e.state===u&&Object(B.jsx)(le,{state:e.state,selectedAction:e,actions:o})||e.state!==u&&n<t.length&&Object(B.jsx)(le,{state:e.state,selectedAction:e,actions:t[n].policies,isDisabled:!0})||e.state!==u&&n>=t.length&&Object(B.jsx)(le,{state:e.state,selectedAction:e,isDisabled:!0})},n)}))})})})]})})}}]),n}(a.a.Component);function he(){var e=Object(r.useContext)(k),t=Object(r.useContext)(w),n=Object(r.useContext)(_),a=Object(r.useContext)(U);return Object(B.jsx)(be,{teamContext:e,accuracyContext:t,authContext:n,baseUrlContext:a})}var de=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(b.a)(n,[{key:"render",value:function(){return Object(B.jsx)(k.Consumer,{children:function(e){var t=e.team;return Object(B.jsx)(E.Consumer,{children:function(e){var n=e.searchStr,r=e.setSearchStr,a=e.searchAction;return Object(B.jsxs)("div",{className:"flex w-full px-4 py-2 max-w-3xl h-12",children:[Object(B.jsx)("input",{className:"w-full mr-2 rounded-default shadow-inner px-2 text-sm",placeholder:"Type in Youtube link here...",value:n,onChange:function(e){return r(e.target.value)},onSubmit:function(){return a()}}),Object(B.jsx)("button",{className:"px-4 mr-2 rounded-default text-sm ".concat(t===g.Blue?"bg-blue-500 text-blue-200":"bg-red-500 bg- text-red-200"),onClick:function(){return a()},children:"Search"}),Object(B.jsx)("button",{className:"px-4 rounded-default text-sm ".concat(t===g.Blue?"bg-blue-500 text-blue-200":"bg-red-500 bg- text-red-200"),onClick:function(){return r("https://youtu.be/kTewx3x6Dps")},children:"Demo"})]})}})}})}}]),n}(a.a.Component),pe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={},r}return Object(b.a)(n,[{key:"render",value:function(){return Object(B.jsx)(k.Consumer,{children:function(e){var t=e.team,n=e.setTeam;return Object(B.jsx)("div",{className:"flex items-center",children:Object(B.jsxs)("label",{htmlFor:"",className:"flex items-center",children:[Object(B.jsx)("span",{className:"text-lg font-bold mr-2 ".concat(t===g.Blue?"text-blue-900":"text-red-900"),children:"Team"}),Object(B.jsx)(O.a,{icons:!1,onChange:function(e){var t=e.target.checked?g.Red:g.Blue;n(t)}})]})})}})}}]),n}(a.a.Component),fe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).state={accuracy:0},r.onAccuracyChanged=r.onAccuracyChanged.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.context.addListener("topBar",this.onAccuracyChanged)}},{key:"onAccuracyChanged",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({accuracy:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.context.removeListener("topBar")}},{key:"render",value:function(){this.state.accuracy;return Object(B.jsx)(I.Consumer,{children:function(e){var t=e.setShowGraph;return Object(B.jsx)(k.Consumer,{children:function(e){var n=e.team;return Object(B.jsxs)("div",{className:"flex justify-between w-screen h-20 p-4",children:[Object(B.jsxs)("div",{className:"flex flex-row",children:[Object(B.jsxs)("div",{className:"flex flex-col justify-center mr-4",children:[Object(B.jsx)(pe,{}),Object(B.jsx)(L,{order:0,text:"This is for toggling the team to track, between either Blue or Red team.",position:"bottom",positionOffsetX:1,positionOffsetY:3,hasPrev:!0,hasNext:!0})]}),Object(B.jsxs)("div",{className:"flex flex-col justify-center mr-4",children:[Object(B.jsx)(S,{}),Object(B.jsx)(L,{order:1,text:"This is for choosing whether to use your own local backend server or a premade server for the action queries.",position:"bottom",positionOffsetY:3,hasPrev:!0,hasNext:!0})]})]}),Object(B.jsxs)("div",{className:"w-full flex flex-col max-w-3xl items-center",children:[Object(B.jsx)(de,{}),Object(B.jsx)(L,{order:2,text:"Type in the Youtube link to the match replay here. Click the Demo button for a test Youtube link. The following formats are accepted: https://youtu.be/kTewx3x6Dps or https://www.youtube.com/watch?v=kTewx3x6Dps or kTewx3x6Dps",position:"bottom",positionOffsetY:3,hasPrev:!0,hasNext:!0})]}),Object(B.jsxs)("div",{className:"flex flex-col items-end justify-center w-40",children:[Object(B.jsx)("button",{className:"px-4 py-2 rounded-default text-sm ".concat(n===g.Blue?"bg-blue-500 text-blue-200":"bg-red-500 text-red-200"),onClick:function(){return t(!0)},children:"Show Graphs"}),Object(B.jsx)(L,{order:3,text:"This shows an overlay containing graphs for real-time visualization of data.",position:"bottom",positionOffsetX:-6,positionOffsetY:3,hasPrev:!0,hasClose:!0})]})]})}})}})}}]),n}(a.a.Component);fe.contextType=w;var xe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).WIDTH=840,r.state={embedId:"",isIdValid:!0},r.getEmbedId=r.getEmbedId.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.context.addActionListener("videoPlayer",this.getEmbedId)}},{key:"getEmbedId",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=/^(https:\/\/www.youtube.com\/watch\?v=[a-zA-Z0-9]{11})|(https:\/\/youtu.be\/[a-zA-Z0-9]{11})|([a-zA-Z0-9]{11})$/,r="",t.match(n)&&(r=t.substring(t.length-11)),r&&11===r.length){e.next=6;break}return this.setState({embedId:"",isIdValid:!1}),e.abrupt("return");case 6:this.setState({embedId:r,isIdValid:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.context.removeActionListener("videoPlayer")}},{key:"render",value:function(){var e=this.state,t=e.embedId,n=e.isIdValid,r=this.WIDTH*(9/16);return Object(B.jsxs)("div",{className:"flex w-full justify-center relative",children:[Object(B.jsx)("div",{className:"absolute left-0 right-0 top-0 bottom-0 bg-gray-900 opacity-50"}),!t&&Object(B.jsx)("div",{className:"flex w-full justify-center z-10",children:Object(B.jsx)("div",{className:"flex items-center justify-center bg-gray-900",style:{width:this.WIDTH,height:r},children:Object(B.jsx)("span",{className:"text-gray-400",children:"".concat(n?"No video selected.":"Invalid video url or id given.")})})})||t&&Object(B.jsx)("div",{className:"z-10",children:Object(B.jsx)("iframe",{width:this.WIDTH,height:r,src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Youtube"})})]})}}]),n}(a.a.Component);xe.contextType=E;var je=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).teamListeners=[],r.accuracyListeners=[],r.searchListeners=[],r.state={team:g.Blue,searchStr:"",showGraph:!1},r.setTeam=r.setTeam.bind(Object(h.a)(r)),r.addTeamListener=r.addTeamListener.bind(Object(h.a)(r)),r.removeTeamListener=r.removeTeamListener.bind(Object(h.a)(r)),r.setAccuracy=r.setAccuracy.bind(Object(h.a)(r)),r.addAccuracyListener=r.addAccuracyListener.bind(Object(h.a)(r)),r.removeAccuracyListener=r.removeAccuracyListener.bind(Object(h.a)(r)),r.setSearchStr=r.setSearchStr.bind(Object(h.a)(r)),r.searchAction=r.searchAction.bind(Object(h.a)(r)),r.addSearchActionListener=r.addSearchActionListener.bind(Object(h.a)(r)),r.removeSearchActionListener=r.removeSearchActionListener.bind(Object(h.a)(r)),r.setShowGraph=r.setShowGraph.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"setTeam",value:function(e){var t=this;this.setState({team:e},Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.teamListeners.map((function(t){return t.listener(e)})));case 2:case"end":return n.stop()}}),n)}))))}},{key:"addTeamListener",value:function(e,t){this.teamListeners.filter((function(t){return t.name===e})).length>0||this.teamListeners.push({name:e,listener:t})}},{key:"removeTeamListener",value:function(e){this.teamListeners.filter((function(t){return t.name===e})).length<=0||(this.teamListeners=this.teamListeners.filter((function(t){return t.name!==e})))}},{key:"setAccuracy",value:function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.accuracyListeners.map((function(e){return e.listener(t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAccuracyListener",value:function(e,t){this.accuracyListeners.filter((function(t){return t.name===e})).length>0||this.accuracyListeners.push({name:e,listener:t})}},{key:"removeAccuracyListener",value:function(e){this.accuracyListeners.filter((function(t){return t.name===e})).length<=0||(this.accuracyListeners=this.accuracyListeners.filter((function(t){return t.name!==e})))}},{key:"setSearchStr",value:function(e){this.setState({searchStr:e})}},{key:"searchAction",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.searchStr,e.next=3,Promise.all(this.searchListeners.map((function(e){return e.listener(t)})));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addSearchActionListener",value:function(e,t){this.searchListeners.filter((function(t){return t.name===e})).length>0||this.searchListeners.push({name:e,listener:t})}},{key:"removeSearchActionListener",value:function(e){this.searchListeners.filter((function(t){return t.name===e})).length<=0||(this.searchListeners=this.searchListeners.filter((function(t){return t.name!==e})))}},{key:"setShowGraph",value:function(e){this.setState({showGraph:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.team,r=t.searchStr,a=t.showGraph;return Object(B.jsx)(_.Consumer,{children:function(t){return t.token?Object(B.jsx)(k.Provider,{value:{team:n,setTeam:e.setTeam,addListener:e.addTeamListener,removeListener:e.removeTeamListener},children:Object(B.jsx)(w.Provider,{value:{setAccuracy:e.setAccuracy,addListener:e.addAccuracyListener,removeListener:e.removeAccuracyListener},children:Object(B.jsx)(E.Provider,{value:{searchStr:r,setSearchStr:e.setSearchStr,searchAction:e.searchAction,addActionListener:e.addSearchActionListener,removeActionListener:e.removeSearchActionListener},children:Object(B.jsx)(I.Provider,{value:{showGraph:a,setShowGraph:e.setShowGraph},children:Object(B.jsxs)("div",{className:"transition-default duration-500 ease-in-out flex flex-col w-screen h-screen ".concat(n===g.Blue?"bg-blue-300":"bg-red-300"),children:[Object(B.jsx)(fe,{}),Object(B.jsx)(xe,{}),Object(B.jsx)(he,{}),a&&Object(B.jsx)(te,{})]})})})})}):Object(B.jsx)(m.a,{to:"/login"})}})}}]),n}(a.a.Component),me=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this,e)).baseUrlListeners=[],r.state={token:"",baseUrl:T.serverBaseUrl,currentTooltip:0,isTooltipEnabled:!0},r.setToken=r.setToken.bind(Object(h.a)(r)),r.loadTokenFromCookie=r.loadTokenFromCookie.bind(Object(h.a)(r)),r.checkTokenValid=r.checkTokenValid.bind(Object(h.a)(r)),r.setBaseUrl=r.setBaseUrl.bind(Object(h.a)(r)),r.addBaseUrlListener=r.addBaseUrlListener.bind(Object(h.a)(r)),r.removeBaseUrlListener=r.removeBaseUrlListener.bind(Object(h.a)(r)),r.setCurrentTooltip=r.setCurrentTooltip.bind(Object(h.a)(r)),r.resetCurrentTooltip=r.resetCurrentTooltip.bind(Object(h.a)(r)),r.setTooltipEnabled=r.setTooltipEnabled.bind(Object(h.a)(r)),r}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadTokenFromCookie();case 2:t=this.props.cookies,void 0==(n=t.get("isTooltipEnabled"))?t.set("isTooltipEnabled",!0):this.setState({isTooltipEnabled:"true"===n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setToken",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.cookies,e.next=3,this.checkTokenValid(t);case 3:e.sent?this.setState({token:t},(function(){n.set("token",t),r.resetCurrentTooltip()})):this.setState({token:""},(function(){r.resetCurrentTooltip()}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadTokenFromCookie",value:function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.cookies,n=t.get("token")){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.checkTokenValid(n);case 6:r=e.sent,this.setState({token:r?n:""},(function(){a.resetCurrentTooltip()}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkTokenValid",value:function(){var e=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.baseUrl,e.prev=1,e.next=4,x.a.get("".concat(n,"/auth/token"),{headers:{"X-Access-Tokens":t}});case 4:if(200!==(r=e.sent).status){e.next=7;break}return e.abrupt("return","valid token"===r.data.message);case 7:return e.abrupt("return",!1);case 10:return e.prev=10,e.t0=e.catch(1),alert("".concat(e.t0.response.status,": ").concat(e.t0.response.data)),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setBaseUrl",value:function(e){var t=this;this.setState({baseUrl:e},Object(l.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.baseUrlListeners.map((function(t){return t.listener(e)})));case 2:case"end":return n.stop()}}),n)}))))}},{key:"addBaseUrlListener",value:function(e,t){this.baseUrlListeners.filter((function(t){return t.name===e})).length>0||this.baseUrlListeners.push({name:e,listener:t})}},{key:"removeBaseUrlListener",value:function(e){this.baseUrlListeners.filter((function(t){return t.name===e})).length<=0||(this.baseUrlListeners=this.baseUrlListeners.filter((function(t){return t.name!==e})))}},{key:"setCurrentTooltip",value:function(e){this.setState({currentTooltip:e})}},{key:"resetCurrentTooltip",value:function(){this.setCurrentTooltip(0)}},{key:"setTooltipEnabled",value:function(e){var t=this.props.cookies;this.setState({isTooltipEnabled:e},(function(){t.set("isTooltipEnabled",e)}))}},{key:"render",value:function(){var e=this.props.cookies,t=this.state,n=t.token,r=t.baseUrl,a=t.currentTooltip,s=t.isTooltipEnabled;return Object(B.jsx)(_.Provider,{value:{token:n,setToken:this.setToken},children:Object(B.jsx)(U.Provider,{value:{baseUrl:r,setBaseUrl:this.setBaseUrl,addListener:this.addBaseUrlListener,removeListener:this.removeBaseUrlListener},children:Object(B.jsx)(C.Provider,{value:{cookies:e},children:Object(B.jsx)(A.Provider,{value:{currentTooltip:a,isTooltipEnabled:s,setCurrentTooltip:this.setCurrentTooltip,resetCurrentTooltip:this.resetCurrentTooltip,setTooltipEnabled:this.setTooltipEnabled},children:Object(B.jsxs)(m.d,{children:[Object(B.jsx)(m.b,{exact:!0,path:"/",children:n?Object(B.jsx)(m.a,{to:"/main"}):Object(B.jsx)(m.a,{to:"/login"})}),Object(B.jsx)(m.b,{path:"/login",children:n?Object(B.jsx)(m.a,{to:"/main"}):Object(B.jsx)(H,{})}),Object(B.jsx)(m.b,{path:"/main",children:Object(B.jsx)(je,{})})]})})})})})}}]),n}(a.a.Component),ve=Object(j.a)(me);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=n(311),Te=n(51);c.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)(Te.a,{basename:"/capstone-frontend",children:Object(B.jsx)(Oe.a,{children:Object(B.jsx)(ve,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[309,1,2]]]);
//# sourceMappingURL=main.e1b246f0.chunk.js.map